<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="theme-color" content="#0a0a0f">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Yumr - Swipe. Cook. Enjoy.</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="app">
        <!-- ========== SPLASH ========== -->
        <div class="screen active" id="splash">
            <div class="splash-orbs">
                <div class="orb orb-1"></div>
                <div class="orb orb-2"></div>
                <div class="orb orb-3"></div>
            </div>
            <div class="splash-content">
                <div class="splash-logo">
                    <div class="logo-ring"></div>
                    <span class="logo-icon">ğŸ½ï¸</span>
                </div>
                <h1 class="splash-title">Yumr</h1>
                <p class="splash-tagline">Swipe. Cook. Enjoy.</p>
                <div class="splash-loader">
                    <div class="loader-bar"></div>
                </div>
            </div>
        </div>

        <!-- ========== ONBOARDING ========== -->
        <div class="screen" id="onboarding">
            <div class="ob-bg-orbs">
                <div class="orb orb-accent"></div>
                <div class="orb orb-gold"></div>
            </div>
            <div class="ob-slides" id="ob-slides">
                <!-- Slide 1 -->
                <div class="ob-slide active" data-slide="0">
                    <div class="ob-visual">
                        <div class="ob-cards-stack">
                            <div class="ob-card ob-c1"><span>ğŸ•</span></div>
                            <div class="ob-card ob-c2"><span>ğŸ£</span></div>
                            <div class="ob-card ob-c3"><span>ğŸ¥—</span></div>
                        </div>
                        <div class="ob-swipe-hint">
                            <span>â†</span>
                            <span>â†’</span>
                        </div>
                    </div>
                    <div class="ob-text">
                        <h2>Swipe tes goÃ»ts</h2>
                        <p>DÃ©couvre ton profil culinaire unique en quelques swipes fun</p>
                    </div>
                </div>
                <!-- Slide 2 -->
                <div class="ob-slide" data-slide="1">
                    <div class="ob-visual">
                        <div class="ob-menu-demo glass-card">
                            <div class="ob-menu-item"><span>ğŸ¥—</span><span>EntrÃ©e du jour</span></div>
                            <div class="ob-menu-item"><span>ğŸ</span><span>Plat signature</span></div>
                            <div class="ob-menu-item"><span>ğŸ°</span><span>Dessert gourmand</span></div>
                        </div>
                    </div>
                    <div class="ob-text">
                        <h2>Menus sur-mesure</h2>
                        <p>Chaque jour, un menu adaptÃ© Ã  tes goÃ»ts, ton frigo et ton budget</p>
                    </div>
                </div>
                <!-- Slide 3 -->
                <div class="ob-slide" data-slide="2">
                    <div class="ob-visual">
                        <div class="ob-gamif">
                            <div class="ob-xp-badge">+50 XP</div>
                            <div class="ob-streak-badge">ğŸ”¥ 7</div>
                            <div class="ob-trophy">ğŸ†</div>
                        </div>
                    </div>
                    <div class="ob-text">
                        <h2>Deviens un Chef</h2>
                        <p>Gagne de l'XP, monte en ligue et dÃ©bloque des badges exclusifs</p>
                    </div>
                </div>
                <!-- Slide 4 -->
                <div class="ob-slide" data-slide="3">
                    <div class="ob-visual">
                        <div class="ob-social-demo">
                            <div class="ob-post-card glass-card">
                                <div class="ob-post-img">ğŸ“¸</div>
                                <div class="ob-post-likes">â¤ï¸ 234</div>
                            </div>
                        </div>
                    </div>
                    <div class="ob-text">
                        <h2>Partage & Inspire</h2>
                        <p>Poste tes crÃ©ations culinaires et dÃ©couvre celles de la communautÃ©</p>
                    </div>
                </div>
            </div>
            <div class="ob-dots">
                <span class="ob-dot active"></span>
                <span class="ob-dot"></span>
                <span class="ob-dot"></span>
                <span class="ob-dot"></span>
            </div>
            <div class="ob-footer">
                <button class="btn btn-primary btn-glow" id="ob-next">Continuer</button>
                <button class="btn btn-link" id="ob-login">J'ai dÃ©jÃ  un compte</button>
            </div>
        </div>

        <!-- ========== LOGIN ========== -->
        <div class="screen" id="login">
            <div class="auth-bg-orbs">
                <div class="orb orb-accent"></div>
            </div>
            <button class="btn-back" data-go="onboarding">â†</button>
            <div class="auth-content">
                <div class="auth-header">
                    <span class="auth-icon">ğŸ‘‹</span>
                    <h1>Bon retour !</h1>
                    <p>Connecte-toi pour retrouver ta progression</p>
                </div>
                <form class="auth-form" id="login-form">
                    <div class="input-wrap glass-card">
                        <span class="input-icon">ğŸ“§</span>
                        <input type="email" placeholder="Email" required id="login-email">
                    </div>
                    <div class="input-wrap glass-card">
                        <span class="input-icon">ğŸ”’</span>
                        <input type="password" placeholder="Mot de passe" required id="login-pwd">
                    </div>
                    <p class="auth-error" id="login-error"></p>
                    <button type="submit" class="btn btn-primary btn-glow btn-full">Se connecter</button>
                </form>
            </div>
        </div>

        <!-- ========== QUIZ SETUP ========== -->
        <div class="screen" id="quiz-setup">
            <div class="setup-bg-orbs">
                <div class="orb orb-accent"></div>
                <div class="orb orb-gold"></div>
            </div>
            <button class="btn-back" data-go="onboarding">â†</button>
            <div class="setup-header">
                <div class="setup-progress"><div class="setup-progress-fill"></div></div>
                <span class="setup-step">Personnalisation</span>
                <h1>Configure ton profil</h1>
            </div>
            <div class="setup-scroll">
                <!-- DurÃ©e -->
                <section class="setup-section">
                    <h3>â±ï¸ DurÃ©e du quiz</h3>
                    <div class="duration-options">
                        <label class="duration-opt glass-card">
                            <input type="radio" name="duration" value="10">
                            <div class="duration-content">
                                <span class="duration-num">10</span>
                                <span class="duration-name">Express</span>
                                <span class="duration-time">~2 min</span>
                            </div>
                        </label>
                        <label class="duration-opt glass-card selected">
                            <input type="radio" name="duration" value="30" checked>
                            <div class="duration-content">
                                <span class="duration-num">30</span>
                                <span class="duration-name">Standard</span>
                                <span class="duration-time">~5 min</span>
                                <span class="duration-rec">â­</span>
                            </div>
                        </label>
                        <label class="duration-opt glass-card">
                            <input type="radio" name="duration" value="50">
                            <div class="duration-content">
                                <span class="duration-num">50</span>
                                <span class="duration-name">Complet</span>
                                <span class="duration-time">~10 min</span>
                            </div>
                        </label>
                    </div>
                </section>
                <!-- RÃ©gime -->
                <section class="setup-section">
                    <h3>ğŸ½ï¸ RÃ©gime alimentaire</h3>
                    <div class="diet-options">
                        <label class="diet-opt glass-card selected"><input type="radio" name="diet" value="omnivore" checked><span>ğŸ¥©</span><span>Omnivore</span></label>
                        <label class="diet-opt glass-card"><input type="radio" name="diet" value="flexitarian"><span>ğŸ¥—</span><span>Flexitarien</span></label>
                        <label class="diet-opt glass-card"><input type="radio" name="diet" value="vegetarian"><span>ğŸ¥¬</span><span>VÃ©gÃ©tarien</span></label>
                        <label class="diet-opt glass-card"><input type="radio" name="diet" value="vegan"><span>ğŸŒ±</span><span>VÃ©gan</span></label>
                    </div>
                </section>
                <!-- Allergies -->
                <section class="setup-section">
                    <h3>âš ï¸ Allergies & intolÃ©rances</h3>
                    <div class="chips-wrap">
                        <label class="chip glass-card"><input type="checkbox" value="gluten"><span>ğŸŒ¾ Gluten</span></label>
                        <label class="chip glass-card"><input type="checkbox" value="lactose"><span>ğŸ¥› Lactose</span></label>
                        <label class="chip glass-card"><input type="checkbox" value="nuts"><span>ğŸ¥œ Arachides</span></label>
                        <label class="chip glass-card"><input type="checkbox" value="seafood"><span>ğŸ¦ CrustacÃ©s</span></label>
                        <label class="chip glass-card"><input type="checkbox" value="eggs"><span>ğŸ¥š Å’ufs</span></label>
                        <label class="chip glass-card"><input type="checkbox" value="soy"><span>ğŸ«˜ Soja</span></label>
                        <label class="chip glass-card"><input type="checkbox" value="fish"><span>ğŸŸ Poisson</span></label>
                    </div>
                </section>
                <!-- Objectif -->
                <section class="setup-section">
                    <h3>ğŸ¯ Objectif santÃ©</h3>
                    <div class="goals-list">
                        <label class="goal-opt glass-card selected"><input type="radio" name="goal" value="none" checked><span>ğŸ˜Š Aucun objectif</span></label>
                        <label class="goal-opt glass-card"><input type="radio" name="goal" value="weight_loss"><span>ğŸƒ Perte de poids</span></label>
                        <label class="goal-opt glass-card"><input type="radio" name="goal" value="muscle"><span>ğŸ’ª Prise de masse</span></label>
                        <label class="goal-opt glass-card"><input type="radio" name="goal" value="cutting"><span>ğŸ”¥ SÃ¨che</span></label>
                        <label class="goal-opt glass-card"><input type="radio" name="goal" value="health"><span>â¤ï¸ Manger sainement</span></label>
                    </div>
                </section>
                <!-- Medical -->
                <section class="setup-section">
                    <h3>ğŸ¥ Conditions mÃ©dicales</h3>
                    <div class="chips-wrap">
                        <label class="chip glass-card"><input type="checkbox" value="cholesterol"><span>â¤ï¸ CholestÃ©rol</span></label>
                        <label class="chip glass-card"><input type="checkbox" value="diabetes"><span>ğŸ’‰ DiabÃ¨te</span></label>
                        <label class="chip glass-card"><input type="checkbox" value="hypertension"><span>ğŸ©º Hypertension</span></label>
                    </div>
                </section>
            </div>
            <div class="setup-footer glass-bar">
                <button class="btn btn-primary btn-glow btn-full" id="start-quiz">
                    <span>Commencer le quiz</span>
                    <span class="btn-arrow">â†’</span>
                </button>
            </div>
        </div>

        <!-- ========== QUIZ SWIPE ========== -->
        <div class="screen" id="quiz">
            <div class="quiz-bg-orbs">
                <div class="orb orb-accent"></div>
            </div>
            <div class="quiz-header">
                <button class="btn-close" id="quiz-close">âœ•</button>
                <div class="quiz-progress">
                    <div class="quiz-progress-bar"><div class="quiz-progress-fill" id="quiz-fill"></div></div>
                    <span class="quiz-count" id="quiz-count">1/30</span>
                </div>
                <div class="quiz-streak glass-pill">
                    <span class="fire">ğŸ”¥</span>
                    <span id="quiz-streak">0</span>
                </div>
            </div>
            <div class="quiz-arena">
                <div class="quiz-card glass-card" id="quiz-card">
                    <div class="quiz-card-img" id="quiz-img"></div>
                    <div class="quiz-card-body">
                        <span class="quiz-emoji" id="quiz-emoji">ğŸ•</span>
                        <p class="quiz-question" id="quiz-question">Tu aimes les pizzas ?</p>
                    </div>
                    <div class="quiz-hint quiz-hint-nope"><span>ğŸ‘</span><span>NOPE</span></div>
                    <div class="quiz-hint quiz-hint-love"><span>ğŸ’š</span><span>LOVE</span></div>
                </div>
            </div>
            <div class="quiz-actions">
                <button class="quiz-btn quiz-btn-nope" id="btn-nope">
                    <span>ğŸ‘</span>
                    <small>Bof</small>
                </button>
                <button class="quiz-btn quiz-btn-love" id="btn-love">
                    <span>ğŸ’š</span>
                    <small>J'adore</small>
                </button>
            </div>
        </div>

        <!-- ========== QUIZ RESULT ========== -->
        <div class="screen" id="result">
            <canvas id="confetti"></canvas>
            <div class="result-bg-orbs">
                <div class="orb orb-gold"></div>
                <div class="orb orb-accent"></div>
            </div>
            <div class="result-content">
                <div class="result-badge glass-pill">ğŸ‰ Bravo !</div>
                <h1>Ton profil culinaire</h1>
                <div class="profile-card glass-card">
                    <div class="profile-glow"></div>
                    <span class="profile-emoji" id="res-emoji">ğŸ³</span>
                    <h2 class="profile-name" id="res-name">Le Gourmet</h2>
                    <p class="profile-desc" id="res-desc">Tu apprÃ©cies la bonne cuisine et les saveurs authentiques.</p>
                    <div class="profile-traits" id="res-traits"></div>
                </div>
                <div class="result-xp glass-pill">
                    <span class="sparkle">âœ¨</span>
                    <span>+50 XP gagnÃ©s !</span>
                </div>
                <div class="result-unlock">
                    <p>CrÃ©e ton compte pour dÃ©bloquer :</p>
                    <ul>
                        <li>ğŸ“… Menu du jour personnalisÃ©</li>
                        <li>ğŸ§Š Gestion intelligente du frigo</li>
                        <li>ğŸ† Ligues & Classements</li>
                        <li>ğŸ›’ Liste de courses automatique</li>
                    </ul>
                </div>
                <div class="result-actions">
                    <button class="btn btn-primary btn-glow btn-full" id="create-account">CrÃ©er mon compte gratuit</button>
                    <button class="btn btn-ghost" id="guest-mode">Continuer en invitÃ©</button>
                </div>
            </div>
        </div>

        <!-- ========== REGISTER ========== -->
        <div class="screen" id="register">
            <div class="auth-bg-orbs"><div class="orb orb-accent"></div></div>
            <button class="btn-back" data-go="result">â†</button>
            <div class="auth-content">
                <div class="auth-header">
                    <span class="auth-icon">ğŸš€</span>
                    <h1>Rejoins Yumr !</h1>
                    <p>Profil dÃ©tectÃ© : <strong id="reg-profile">Gourmet</strong></p>
                </div>
                <form class="auth-form" id="register-form">
                    <div class="input-wrap glass-card">
                        <span class="input-icon">ğŸ‘¤</span>
                        <input type="text" placeholder="Pseudo" required id="reg-username" minlength="3">
                    </div>
                    <div class="input-wrap glass-card">
                        <span class="input-icon">ğŸ“§</span>
                        <input type="email" placeholder="Email" required id="reg-email">
                    </div>
                    <div class="input-wrap glass-card">
                        <span class="input-icon">ğŸ”’</span>
                        <input type="password" placeholder="Mot de passe (6+ car.)" required id="reg-pwd" minlength="6">
                    </div>
                    <p class="auth-error" id="reg-error"></p>
                    <button type="submit" class="btn btn-primary btn-glow btn-full">CrÃ©er mon compte</button>
                </form>
            </div>
        </div>

        <!-- ========== MAIN APP ========== -->
        <div class="screen" id="main">
            <!-- Header -->
            <header class="app-header glass-bar">
                <div class="header-brand">
                    <span class="brand-icon">ğŸ½ï¸</span>
                    <span class="brand-name">Yumr</span>
                </div>
                <div class="header-stats">
                    <div class="stat-pill glass-pill"><span class="fire">ğŸ”¥</span><span id="h-streak">0</span></div>
                    <div class="stat-pill glass-pill"><span>âœ¨</span><span id="h-xp">0</span></div>
                    <button class="notif-btn" id="notif-btn">ğŸ””<span class="notif-badge">3</span></button>
                </div>
            </header>

            <!-- Tabs Container -->
            <main class="tabs-container">
                <!-- HOME -->
                <section class="tab active" id="tab-home">
                    <div class="greeting">
                        <h1>Salut <span id="user-name">Chef</span> ! ğŸ‘‹</h1>
                        <p>Qu'est-ce qu'on cuisine aujourd'hui ?</p>
                    </div>

                    <!-- Daily Menu Card -->
                    <div class="daily-menu glass-card" id="daily-card">
                        <div class="daily-top">
                            <div class="daily-icon">ğŸ‘¨â€ğŸ³</div>
                            <div class="daily-info">
                                <h3>Menu du jour</h3>
                                <p id="daily-status">GÃ©nÃ¨re ton menu personnalisÃ©</p>
                            </div>
                        </div>
                        <div class="daily-items" id="daily-items"></div>
                        <button class="btn btn-primary btn-glow btn-full" id="gen-menu">âœ¨ GÃ©nÃ©rer mon menu</button>
                    </div>

                    <!-- Quick Actions -->
                    <div class="quick-actions">
                        <button class="quick-btn glass-card" data-action="fridge">
                            <span class="quick-icon">ğŸ§Š</span>
                            <span class="quick-name">Mon Frigo</span>
                            <span class="quick-count" id="fridge-count">0</span>
                        </button>
                        <button class="quick-btn glass-card" data-action="shopping">
                            <span class="quick-icon">ğŸ›’</span>
                            <span class="quick-name">Courses</span>
                        </button>
                        <button class="quick-btn glass-card" data-action="mealprep">
                            <span class="quick-icon">ğŸ“…</span>
                            <span class="quick-name">Meal Prep</span>
                            <span class="quick-pro">PRO</span>
                        </button>
                        <button class="quick-btn glass-card" data-action="coach">
                            <span class="quick-icon">ğŸ¤–</span>
                            <span class="quick-name">Coach IA</span>
                            <span class="quick-pro">PRO</span>
                        </button>
                        <button class="quick-btn glass-card" data-action="restaurant">
                            <span class="quick-icon">ğŸ´</span>
                            <span class="quick-name">Mode Resto</span>
                            <span class="quick-pro">PRO</span>
                        </button>
                        <button class="quick-btn glass-card" data-action="referral">
                            <span class="quick-icon">ğŸ</span>
                            <span class="quick-name">Parrainer</span>
                        </button>
                    </div>

                    <!-- Weekly Challenge -->
                    <div class="challenge-card glass-card">
                        <div class="challenge-header">
                            <span class="challenge-label">ğŸ¯ DÃ©fi de la semaine</span>
                            <span class="challenge-timer">5j restants</span>
                        </div>
                        <h3>Carbonara revisitÃ©e</h3>
                        <p>Poste ta version et gagne jusqu'Ã  500 XP !</p>
                        <div class="challenge-footer">
                            <span>ğŸ‘¥ 247 participants</span>
                            <button class="btn btn-sm btn-outline" id="join-challenge">Participer</button>
                        </div>
                    </div>

                    <!-- Stats -->
                    <div class="stats-section">
                        <h3>ğŸ“Š Cette semaine</h3>
                        <div class="stats-grid">
                            <div class="stat-box glass-card">
                                <span class="stat-num" id="s-recipes">0</span>
                                <span class="stat-label">Recettes</span>
                            </div>
                            <div class="stat-box glass-card">
                                <span class="stat-num" id="s-streak">0</span>
                                <span class="stat-label">Streak</span>
                            </div>
                            <div class="stat-box glass-card">
                                <span class="stat-num" id="s-xp">0</span>
                                <span class="stat-label">XP</span>
                            </div>
                            <div class="stat-box glass-card clickable" data-goto="leagues">
                                <span class="stat-num" id="s-rank">#--</span>
                                <span class="stat-label">Rang</span>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- EXPLORE -->
                <section class="tab" id="tab-explore">
                    <h1 class="tab-title">Explorer</h1>
                    <div class="search-bar glass-card">
                        <span>ğŸ”</span>
                        <input type="text" placeholder="Rechercher une recette..." id="search-input">
                    </div>
                    <div class="explore-tabs">
                        <button class="exp-tab active" data-exp="recipes">ğŸ Recettes</button>
                        <button class="exp-tab" data-exp="trending">ğŸ”¥ Tendances</button>
                        <button class="exp-tab" data-exp="saved">ğŸ’¾ SauvegardÃ©s</button>
                    </div>
                    <div class="filter-bar">
                        <button class="filter-chip active" data-filter="all">Tout</button>
                        <button class="filter-chip" data-filter="starter">ğŸ¥— EntrÃ©es</button>
                        <button class="filter-chip" data-filter="main">ğŸ– Plats</button>
                        <button class="filter-chip" data-filter="dessert">ğŸ° Desserts</button>
                        <button class="filter-chip" data-filter="quick">âš¡ <30min</button>
                        <button class="filter-chip" data-filter="cheap">ğŸ’° Budget</button>
                    </div>
                    <div class="recipes-grid" id="recipes-grid"></div>
                </section>

                <!-- FEED -->
                <section class="tab" id="tab-feed">
                    <h1 class="tab-title">Feed</h1>
                    <div class="feed-tabs">
                        <button class="feed-tab active" data-feed="foryou">Pour toi</button>
                        <button class="feed-tab" data-feed="following">Suivis</button>
                        <button class="feed-tab" data-feed="trending">ğŸ”¥ Top</button>
                    </div>
                    <div class="stories-row" id="stories">
                        <div class="story add-story"><div class="story-avatar">â•</div><span>Ta story</span></div>
                    </div>
                    <div class="feed-list" id="feed-list"></div>
                </section>

                <!-- LEAGUES -->
                <section class="tab" id="tab-leagues">
                    <h1 class="tab-title">ğŸ† Ligues</h1>
                    <div class="current-league glass-card">
                        <span class="league-icon" id="league-icon">ğŸ¥ˆ</span>
                        <div class="league-info">
                            <span class="league-name" id="league-name">Ligue Argent</span>
                            <span class="league-pos">Position : <strong id="league-pos">#12</strong></span>
                        </div>
                        <div class="league-timer">
                            <small>Reset</small>
                            <strong id="league-reset">2j 14h</strong>
                        </div>
                    </div>
                    <div class="leagues-list">
                        <button class="league-pill glass-pill" data-league="champion">ğŸ‘‘ Champion</button>
                        <button class="league-pill glass-pill" data-league="diamond">ğŸ’ Diamant</button>
                        <button class="league-pill glass-pill" data-league="gold">ğŸ¥‡ Or</button>
                        <button class="league-pill glass-pill active" data-league="silver">ğŸ¥ˆ Argent</button>
                        <button class="league-pill glass-pill" data-league="bronze">ğŸ¥‰ Bronze</button>
                    </div>
                    <div class="leaderboard" id="leaderboard"></div>
                    <div class="rewards-card glass-card">
                        <h4>ğŸ RÃ©compenses</h4>
                        <div class="reward-row"><span>ğŸ¥‡ Top 1</span><span>+500 XP + Badge</span></div>
                        <div class="reward-row"><span>ğŸ¥ˆ Top 3</span><span>+300 XP</span></div>
                        <div class="reward-row"><span>ğŸ¥‰ Top 10</span><span>+100 XP + Promo</span></div>
                    </div>
                </section>

                <!-- PROFILE -->
                <section class="tab" id="tab-profile">
                    <div class="profile-header glass-card">
                        <div class="profile-cover"></div>
                        <div class="profile-avatar-wrap">
                            <div class="profile-avatar" id="p-avatar">
                                <img src="https://i.pravatar.cc/200?u=me" alt="">
                            </div>
                            <span class="avatar-level" id="p-level">1</span>
                        </div>
                        <h2 id="p-name">@username</h2>
                        <div class="profile-type-badge glass-pill">
                            <span id="p-emoji">ğŸ³</span>
                            <span id="p-type">Gourmet</span>
                        </div>
                        <div class="profile-stats-row">
                            <div><strong id="ps-xp">0</strong><span>XP</span></div>
                            <div><strong id="ps-cooked">0</strong><span>CuisinÃ©s</span></div>
                            <div><strong id="ps-streak">0</strong><span>Best Streak</span></div>
                            <div><strong id="ps-badges">0</strong><span>Badges</span></div>
                        </div>
                    </div>
                    <div class="xp-card glass-card">
                        <div class="xp-header">
                            <span>Niveau <strong id="xp-lvl">1</strong></span>
                            <span><span id="xp-cur">0</span> / <span id="xp-next">100</span> XP</span>
                        </div>
                        <div class="xp-bar"><div class="xp-fill" id="xp-fill"></div></div>
                    </div>
                    <div class="badges-card glass-card">
                        <div class="badges-header">
                            <h4>ğŸ… Badges</h4>
                            <button class="btn-link" id="all-badges">Voir tout</button>
                        </div>
                        <div class="badges-row" id="badges-preview"></div>
                    </div>
                    <div class="profile-menu">
                        <button class="menu-item glass-card" data-action="preferences"><span>âš™ï¸</span><span>PrÃ©fÃ©rences alimentaires</span><span>â€º</span></button>
                        <button class="menu-item glass-card" data-action="fridge"><span>ğŸ§Š</span><span>Mon Frigo</span><span>â€º</span></button>
                        <button class="menu-item glass-card" data-action="premium"><span>â­</span><span>Passer Premium</span><span class="menu-pro">PRO</span></button>
                        <button class="menu-item glass-card" data-action="referral"><span>ğŸ</span><span>Parrainer des amis</span><span>â€º</span></button>
                        <button class="menu-item glass-card" data-action="settings"><span>ğŸ”§</span><span>ParamÃ¨tres</span><span>â€º</span></button>
                        <button class="menu-item glass-card danger" id="logout"><span>ğŸšª</span><span>DÃ©connexion</span></button>
                    </div>
                </section>
            </main>

            <!-- Bottom Nav -->
            <nav class="bottom-nav glass-bar">
                <button class="nav-item active" data-tab="home"><span>ğŸ </span><small>Home</small></button>
                <button class="nav-item" data-tab="explore"><span>ğŸ”</span><small>Explorer</small></button>
                <button class="nav-item nav-center" id="post-btn"><span class="nav-plus">â•</span></button>
                <button class="nav-item" data-tab="leagues"><span>ğŸ†</span><small>Ligues</small></button>
                <button class="nav-item" data-tab="profile"><span>ğŸ‘¤</span><small>Profil</small></button>
            </nav>
        </div>

        <!-- ========== MODALS ========== -->
        
        <!-- Menu Options -->
        <div class="modal" id="modal-menu">
            <div class="modal-backdrop"></div>
            <div class="modal-sheet glass-card">
                <div class="modal-handle"></div>
                <h3>ğŸ½ï¸ Options du menu</h3>
                <div class="modal-body">
                    <div class="opt-section">
                        <label>ğŸ’° Budget</label>
                        <div class="opt-row">
                            <button class="opt-btn glass-pill active" data-budget="low">â‚¬</button>
                            <button class="opt-btn glass-pill" data-budget="medium">â‚¬â‚¬</button>
                            <button class="opt-btn glass-pill" data-budget="high">â‚¬â‚¬â‚¬</button>
                        </div>
                    </div>
                    <div class="opt-section">
                        <label>ğŸ‘¥ Personnes</label>
                        <div class="stepper">
                            <button class="step-btn" id="p-minus">âˆ’</button>
                            <span class="step-val" id="p-val">2</span>
                            <button class="step-btn" id="p-plus">+</button>
                        </div>
                    </div>
                    <div class="opt-section">
                        <label>â±ï¸ Temps max</label>
                        <div class="opt-row">
                            <button class="opt-btn glass-pill" data-time="15">15min</button>
                            <button class="opt-btn glass-pill active" data-time="30">30min</button>
                            <button class="opt-btn glass-pill" data-time="60">1h</button>
                            <button class="opt-btn glass-pill" data-time="999">âˆ</button>
                        </div>
                    </div>
                    <div class="opt-section">
                        <label class="toggle-label glass-card">
                            <span>ğŸ§Š Utiliser mon frigo en prioritÃ©</span>
                            <input type="checkbox" id="opt-fridge" checked>
                            <span class="toggle"></span>
                        </label>
                    </div>
                    <div class="opt-section">
                        <label class="toggle-label glass-card">
                            <span>ğŸ§€ Inclure fromage</span>
                            <input type="checkbox" id="opt-cheese">
                            <span class="toggle"></span>
                        </label>
                    </div>
                    <div class="opt-section">
                        <label class="toggle-label glass-card">
                            <span>ğŸ· SuggÃ©rer un vin</span>
                            <input type="checkbox" id="opt-wine">
                            <span class="toggle"></span>
                        </label>
                    </div>
                </div>
                <button class="btn btn-primary btn-glow btn-full" id="confirm-menu">âœ¨ GÃ©nÃ©rer le menu</button>
            </div>
        </div>

        <!-- Fridge -->
        <div class="modal modal-full" id="modal-fridge">
            <div class="modal-page">
                <div class="modal-topbar glass-bar">
                    <button class="btn-back" data-close="modal-fridge">â†</button>
                    <h2>ğŸ§Š Mon Frigo</h2>
                    <button class="btn btn-sm btn-primary" id="add-item">+ Ajouter</button>
                </div>
                <div class="modal-scroll">
                    <div class="fridge-actions">
                        <button class="fridge-action glass-card" id="scan-fridge">
                            <span>ğŸ“·</span>
                            <span>Scanner frigo</span>
                            <span class="action-badge">IA</span>
                        </button>
                        <button class="fridge-action glass-card" id="scan-ticket">
                            <span>ğŸ§¾</span>
                            <span>Scanner ticket</span>
                        </button>
                    </div>
                    <div class="fridge-cats">
                        <button class="cat-btn active" data-cat="all">Tout</button>
                        <button class="cat-btn" data-cat="fruits">ğŸ Fruits</button>
                        <button class="cat-btn" data-cat="legumes">ğŸ¥¬ LÃ©gumes</button>
                        <button class="cat-btn" data-cat="viandes">ğŸ¥© Viandes</button>
                        <button class="cat-btn" data-cat="laitiers">ğŸ§€ Laitiers</button>
                        <button class="cat-btn" data-cat="epicerie">ğŸ¥« Ã‰picerie</button>
                        <button class="cat-btn" data-cat="surgeles">â„ï¸ SurgelÃ©s</button>
                    </div>
                    <div class="fridge-list" id="fridge-list"></div>
                    <div class="expiring-section glass-card" id="expiring-section">
                        <h4>âš ï¸ BientÃ´t pÃ©rimÃ©</h4>
                        <div id="expiring-list"></div>
                        <button class="btn btn-outline btn-sm btn-full" id="tgtg-btn">ğŸ€ Envoyer vers Too Good To Go</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Add Item -->
        <div class="modal" id="modal-additem">
            <div class="modal-backdrop"></div>
            <div class="modal-sheet glass-card">
                <div class="modal-handle"></div>
                <h3>â• Ajouter un ingrÃ©dient</h3>
                <div class="modal-body">
                    <div class="form-group">
                        <label>Nom</label>
                        <input type="text" class="form-input glass-card" id="item-name" placeholder="Ex: Tomates">
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>QuantitÃ©</label>
                            <input type="text" class="form-input glass-card" id="item-qty" placeholder="500g">
                        </div>
                        <div class="form-group">
                            <label>CatÃ©gorie</label>
                            <select class="form-input glass-card" id="item-cat">
                                <option value="fruits">ğŸ Fruits</option>
                                <option value="legumes">ğŸ¥¬ LÃ©gumes</option>
                                <option value="viandes">ğŸ¥© Viandes</option>
                                <option value="laitiers">ğŸ§€ Laitiers</option>
                                <option value="epicerie">ğŸ¥« Ã‰picerie</option>
                                <option value="surgeles">â„ï¸ SurgelÃ©s</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Date de pÃ©remption</label>
                        <input type="date" class="form-input glass-card" id="item-exp">
                    </div>
                </div>
                <button class="btn btn-primary btn-full" id="save-item">Ajouter</button>
            </div>
        </div>

        <!-- Shopping -->
        <div class="modal modal-full" id="modal-shopping">
            <div class="modal-page">
                <div class="modal-topbar glass-bar">
                    <button class="btn-back" data-close="modal-shopping">â†</button>
                    <h2>ğŸ›’ Liste de courses</h2>
                    <button class="btn btn-sm btn-ghost" id="share-list">ğŸ“¤</button>
                </div>
                <div class="modal-scroll">
                    <div class="shopping-summary glass-card">
                        <div><strong id="shop-count">0</strong> articles</div>
                        <div>EstimÃ© : <strong id="shop-total">~0â‚¬</strong></div>
                    </div>
                    <div class="shopping-list" id="shopping-list"></div>
                    <button class="btn btn-primary btn-glow btn-full" id="order-btn">ğŸ›’ Commander (bientÃ´t)</button>
                </div>
            </div>
        </div>

        <!-- Premium -->
        <div class="modal modal-full" id="modal-premium">
            <div class="modal-page premium-bg">
                <div class="modal-topbar glass-bar">
                    <button class="btn-back" data-close="modal-premium">â†</button>
                    <h2>â­ Yumr Pro</h2>
                </div>
                <div class="modal-scroll">
                    <div class="premium-hero">
                        <span class="premium-crown">ğŸ‘‘</span>
                        <h2>DÃ©bloquez tout le potentiel</h2>
                        <p>Devenez un vrai Chef avec Yumr Pro</p>
                    </div>
                    <div class="premium-features">
                        <div class="prem-feat glass-card"><span>ğŸ½ï¸</span><div><h4>Menus illimitÃ©s</h4><p>RÃ©gÃ©nÃ©rez autant que vous voulez</p></div></div>
                        <div class="prem-feat glass-card"><span>ğŸ¤–</span><div><h4>Coach Nutrition IA</h4><p>Conseils personnalisÃ©s 24/7</p></div></div>
                        <div class="prem-feat glass-card"><span>ğŸ“Š</span><div><h4>Macros dÃ©taillÃ©s</h4><p>Calories, protÃ©ines, glucides</p></div></div>
                        <div class="prem-feat glass-card"><span>ğŸ“…</span><div><h4>Meal Prep</h4><p>Planifiez votre semaine entiÃ¨re</p></div></div>
                        <div class="prem-feat glass-card"><span>ğŸ´</span><div><h4>Mode Restaurant</h4><p>Scannez les menus pour check rÃ©gime</p></div></div>
                        <div class="prem-feat glass-card"><span>ğŸ“·</span><div><h4>Snap Frigo IA</h4><p>Photographiez, on dÃ©tecte tout</p></div></div>
                    </div>
                    <div class="premium-plans">
                        <div class="plan glass-card" data-plan="plus">
                            <h4>Yumr+</h4>
                            <div class="plan-price">4.99â‚¬<small>/mois</small></div>
                            <p>ou 39.99â‚¬/an</p>
                        </div>
                        <div class="plan glass-card popular" data-plan="pro">
                            <span class="plan-badge">POPULAIRE</span>
                            <h4>Yumr Pro</h4>
                            <div class="plan-price">9.99â‚¬<small>/mois</small></div>
                            <p>ou 99.99â‚¬/an</p>
                        </div>
                        <div class="plan glass-card" data-plan="family">
                            <h4>Yumr Famille</h4>
                            <div class="plan-price">14.99â‚¬<small>/mois</small></div>
                            <p>Jusqu'Ã  6 membres</p>
                        </div>
                    </div>
                    <button class="btn btn-primary btn-glow btn-full" id="subscribe">Essai gratuit 7 jours</button>
                </div>
            </div>
        </div>

        <!-- Post -->
        <div class="modal modal-full" id="modal-post">
            <div class="modal-page">
                <div class="modal-topbar glass-bar">
                    <button class="btn-back" data-close="modal-post">â†</button>
                    <h2>ğŸ“¸ Nouveau post</h2>
                    <button class="btn btn-sm btn-primary" id="publish">Publier</button>
                </div>
                <div class="modal-scroll">
                    <div class="post-upload glass-card" id="post-upload">
                        <span>ğŸ“·</span>
                        <p>Ajoute une photo de ton plat</p>
                        <input type="file" id="post-file" accept="image/*" hidden>
                    </div>
                    <img id="post-preview" class="post-preview" src="" alt="">
                    <div class="form-group">
                        <textarea class="form-input glass-card" id="post-caption" placeholder="DÃ©cris ton plat..." rows="3"></textarea>
                    </div>
                    <div class="form-group">
                        <select class="form-input glass-card" id="post-recipe">
                            <option value="">Lier Ã  une recette (optionnel)</option>
                        </select>
                    </div>
                    <p class="post-xp">+30 XP Ã  la publication</p>
                </div>
            </div>
        </div>

        <!-- Recipe Detail -->
        <div class="modal modal-full" id="modal-recipe">
            <div class="modal-page" id="recipe-content"></div>
        </div>

        <!-- Coach IA -->
        <div class="modal modal-full" id="modal-coach">
            <div class="modal-page">
                <div class="modal-topbar glass-bar">
                    <button class="btn-back" data-close="modal-coach">â†</button>
                    <h2>ğŸ¤– Coach Nutrition</h2>
                    <span class="pro-pill">PRO</span>
                </div>
                <div class="chat-container" id="chat-msgs">
                    <div class="chat-msg bot">
                        <div class="chat-avatar">ğŸ¤–</div>
                        <div class="chat-bubble glass-card">Salut ! Je suis ton coach nutrition IA. Comment puis-je t'aider ?</div>
                    </div>
                </div>
                <div class="chat-input glass-bar">
                    <input type="text" placeholder="Pose ta question..." id="chat-input">
                    <button class="chat-send" id="chat-send">ğŸ“¤</button>
                </div>
            </div>
        </div>

        <!-- Meal Prep -->
        <div class="modal modal-full" id="modal-mealprep">
            <div class="modal-page">
                <div class="modal-topbar glass-bar">
                    <button class="btn-back" data-close="modal-mealprep">â†</button>
                    <h2>ğŸ“… Meal Prep</h2>
                    <span class="pro-pill">PRO</span>
                </div>
                <div class="modal-scroll">
                    <div class="premium-lock">
                        <span>ğŸ”’</span>
                        <h3>FonctionnalitÃ© Premium</h3>
                        <p>Planifie ta semaine entiÃ¨re avec des menus cohÃ©rents et une liste de courses consolidÃ©e.</p>
                        <button class="btn btn-primary btn-glow" data-action="premium">DÃ©bloquer Yumr Pro</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Restaurant Mode -->
        <div class="modal modal-full" id="modal-restaurant">
            <div class="modal-page">
                <div class="modal-topbar glass-bar">
                    <button class="btn-back" data-close="modal-restaurant">â†</button>
                    <h2>ğŸ´ Mode Restaurant</h2>
                    <span class="pro-pill">PRO</span>
                </div>
                <div class="modal-scroll">
                    <div class="scan-zone glass-card">
                        <span>ğŸ“·</span>
                        <p>Scanne un menu de restaurant</p>
                        <button class="btn btn-primary" id="scan-menu">Scanner le menu</button>
                    </div>
                    <p class="scan-hint">L'IA analysera chaque plat et t'indiquera s'il correspond Ã  ton rÃ©gime.</p>
                </div>
            </div>
        </div>

        <!-- Referral -->
        <div class="modal modal-full" id="modal-referral">
            <div class="modal-page">
                <div class="modal-topbar glass-bar">
                    <button class="btn-back" data-close="modal-referral">â†</button>
                    <h2>ğŸ Parrainage</h2>
                </div>
                <div class="modal-scroll">
                    <div class="referral-hero">
                        <span>ğŸ</span>
                        <h3>Invite tes amis !</h3>
                        <p>Gagne 1 mois Premium gratuit pour 3 amis invitÃ©s</p>
                    </div>
                    <div class="referral-code glass-card">
                        <small>Ton code</small>
                        <strong id="ref-code">YUMR-XXXX</strong>
                        <button class="btn btn-sm btn-primary" id="copy-code">Copier</button>
                    </div>
                    <div class="referral-stats glass-card">
                        <div><strong id="ref-inv">0</strong><span>InvitÃ©s</span></div>
                        <div><strong id="ref-act">0</strong><span>Actifs</span></div>
                        <div><strong id="ref-xp">0</strong><span>XP</span></div>
                    </div>
                    <div class="referral-rewards">
                        <h4>RÃ©compenses</h4>
                        <div class="ref-row glass-card"><span>3 amis</span><span>1 mois Premium</span></div>
                        <div class="ref-row glass-card"><span>5 amis</span><span>+500 XP + Badge</span></div>
                        <div class="ref-row glass-card"><span>10 amis</span><span>3 mois Premium</span></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Badges -->
        <div class="modal modal-full" id="modal-badges">
            <div class="modal-page">
                <div class="modal-topbar glass-bar">
                    <button class="btn-back" data-close="modal-badges">â†</button>
                    <h2>ğŸ… Tous les badges</h2>
                </div>
                <div class="modal-scroll">
                    <div class="badges-grid" id="badges-grid"></div>
                </div>
            </div>
        </div>

        <!-- Settings -->
        <div class="modal modal-full" id="modal-settings">
            <div class="modal-page">
                <div class="modal-topbar glass-bar">
                    <button class="btn-back" data-close="modal-settings">â†</button>
                    <h2>ğŸ”§ ParamÃ¨tres</h2>
                </div>
                <div class="modal-scroll">
                    <div class="settings-group">
                        <h4>Compte</h4>
                        <button class="setting-row glass-card"><span>ğŸ‘¤</span><span>Mon compte</span><span>â€º</span></button>
                        <button class="setting-row glass-card"><span>ğŸ””</span><span>Notifications</span><span>â€º</span></button>
                    </div>
                    <div class="settings-group">
                        <h4>Abonnement</h4>
                        <button class="setting-row glass-card"><span>â­</span><span>GÃ©rer l'abonnement</span><span>â€º</span></button>
                    </div>
                    <div class="settings-group">
                        <h4>Ã€ propos</h4>
                        <button class="setting-row glass-card"><span>ğŸ“„</span><span>CGU</span><span>â€º</span></button>
                        <button class="setting-row glass-card"><span>ğŸ”’</span><span>ConfidentialitÃ©</span><span>â€º</span></button>
                        <button class="setting-row glass-card"><span>â„¹ï¸</span><span>Version</span><span>1.0.0</span></button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Preferences -->
        <div class="modal modal-full" id="modal-preferences">
            <div class="modal-page">
                <div class="modal-topbar glass-bar">
                    <button class="btn-back" data-close="modal-preferences">â†</button>
                    <h2>âš™ï¸ PrÃ©fÃ©rences</h2>
                    <button class="btn btn-sm btn-primary" id="save-prefs">Sauver</button>
                </div>
                <div class="modal-scroll" id="prefs-content"></div>
            </div>
        </div>

        <!-- Challenge -->
        <div class="modal modal-full" id="modal-challenge">
            <div class="modal-page">
                <div class="modal-topbar glass-bar">
                    <button class="btn-back" data-close="modal-challenge">â†</button>
                    <h2>ğŸ¯ DÃ©fi</h2>
                </div>
                <div class="modal-scroll">
                    <div class="challenge-hero glass-card">
                        <span>ğŸ</span>
                        <h2>Carbonara revisitÃ©e</h2>
                        <p>Montre-nous ta version unique de ce classique italien !</p>
                        <div class="challenge-meta"><span>â±ï¸ 5j</span><span>ğŸ‘¥ 247</span></div>
                    </div>
                    <div class="challenge-rewards glass-card">
                        <h4>ğŸ RÃ©compenses</h4>
                        <p>ğŸ¥‡ 1er : 500 XP + Badge exclusif</p>
                        <p>ğŸ¥ˆ 2-3 : 300 XP</p>
                        <p>ğŸ¥‰ 4-10 : 100 XP</p>
                        <p>Participation : 50 XP</p>
                    </div>
                    <button class="btn btn-primary btn-glow btn-full" id="submit-challenge">ğŸ“¸ Participer</button>
                    <h4 class="section-title">Participations</h4>
                    <div class="challenge-entries" id="challenge-entries"></div>
                </div>
            </div>
        </div>

        <!-- Toasts -->
        <div class="toast-container" id="toasts"></div>

        <!-- XP Popup -->
        <div class="xp-popup" id="xp-popup">
            <span class="xp-icon">âœ¨</span>
            <span class="xp-amount" id="xp-amount">+50 XP</span>
        </div>

        <!-- Level Up -->
        <div class="levelup-overlay" id="levelup">
            <div class="levelup-modal glass-card">
                <span>ğŸ‰</span>
                <h2>Niveau supÃ©rieur !</h2>
                <p>Tu es maintenant niveau <strong id="new-lvl">2</strong></p>
                <button class="btn btn-primary" id="close-levelup">Super !</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
