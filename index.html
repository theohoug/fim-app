<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Yumr</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
<div id="app">
    <!-- SPLASH -->
    <div class="screen active" id="splash">
        <div class="splash-logo">ğŸ½ï¸</div>
        <h1>Yumr</h1>
        <p>Swipe. Cook. Enjoy.</p>
        <div class="splash-loader"><div class="loader-fill"></div></div>
    </div>

    <!-- ONBOARDING -->
    <div class="screen" id="onboarding">
        <div class="ob-slide active">
            <div class="ob-visual">ğŸ‘†</div>
            <h1>Swipe tes plats</h1>
            <p>Dis-nous ce que tu aimes en swipant.</p>
        </div>
        <div class="ob-slide">
            <div class="ob-visual">ğŸ½ï¸</div>
            <h1>Menus personnalisÃ©s</h1>
            <p>Chaque jour, des recettes adaptÃ©es.</p>
        </div>
        <div class="ob-slide">
            <div class="ob-visual">ğŸ†</div>
            <h1>Gagne des XP</h1>
            <p>Cuisine, partage et progresse !</p>
        </div>
        <div class="ob-dots">
            <span class="dot active"></span>
            <span class="dot"></span>
            <span class="dot"></span>
        </div>
        <div class="ob-actions">
            <button class="btn btn-primary btn-full" id="ob-next">Continuer</button>
            <button class="btn btn-glass btn-full" id="ob-login">J'ai dÃ©jÃ  un compte</button>
        </div>
    </div>

    <!-- QUIZ CHOICE -->
    <div class="screen" id="quiz-choice">
        <button class="back-btn" id="qc-back">â†</button>
        <div class="qc-content">
            <div class="qc-icon">ğŸ½ï¸</div>
            <h1>CrÃ©ons ton profil</h1>
            <p>Combien de plats veux-tu Ã©valuer ?</p>
            <div class="qc-options">
                <button class="qc-opt" data-count="10">
                    <span class="qc-num">10</span>
                    <span class="qc-label">Express</span>
                    <span class="qc-time">~2 min</span>
                </button>
                <button class="qc-opt selected" data-count="20">
                    <span class="qc-num">20</span>
                    <span class="qc-label">RecommandÃ©</span>
                    <span class="qc-time">~4 min</span>
                </button>
                <button class="qc-opt" data-count="50">
                    <span class="qc-num">50</span>
                    <span class="qc-label">Complet</span>
                    <span class="qc-time">~10 min</span>
                </button>
            </div>
            <button class="btn btn-primary btn-full" id="qc-start">C'est parti ! ğŸš€</button>
        </div>
    </div>

    <!-- AUTH -->
    <div class="screen" id="auth">
        <button class="back-btn" id="auth-back">â†</button>
        <div class="auth-box">
            <div class="auth-logo">ğŸ½ï¸</div>
            <h1 id="auth-title">Connexion</h1>
            <form id="auth-form">
                <div class="field hidden" id="field-username">
                    <label>Pseudo</label>
                    <input type="text" id="in-username" placeholder="Ton pseudo">
                </div>
                <div class="field">
                    <label>Email</label>
                    <input type="email" id="in-email" placeholder="ton@email.com">
                </div>
                <div class="field">
                    <label>Mot de passe</label>
                    <input type="password" id="in-pass" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
                </div>
                <p class="auth-error" id="auth-error"></p>
                <button type="submit" class="btn btn-primary btn-full">Se connecter</button>
            </form>
            <p class="auth-switch">
                <span id="auth-switch-text">Pas encore de compte ?</span>
                <button id="auth-toggle">S'inscrire</button>
            </p>
        </div>
    </div>

    <!-- SETUP -->
    <div class="screen" id="setup">
        <div class="setup-steps">
            <span class="step active">1</span>
            <span class="step-line"></span>
            <span class="step">2</span>
            <span class="step-line"></span>
            <span class="step">3</span>
        </div>
        <div class="setup-page active" id="setup-1">
            <span class="step-badge">Ã‰tape 1/3</span>
            <h1>Ton rÃ©gime</h1>
            <div class="diet-grid">
                <label class="diet-opt"><input type="radio" name="diet" value="omnivore" checked><div class="diet-card"><span>ğŸ–</span><span>Omnivore</span></div></label>
                <label class="diet-opt"><input type="radio" name="diet" value="vegetarian"><div class="diet-card"><span>ğŸ¥¬</span><span>VÃ©gÃ©tarien</span></div></label>
                <label class="diet-opt"><input type="radio" name="diet" value="vegan"><div class="diet-card"><span>ğŸŒ±</span><span>VÃ©gan</span></div></label>
                <label class="diet-opt"><input type="radio" name="diet" value="flexitarian"><div class="diet-card"><span>ğŸŸ</span><span>Flexitarien</span></div></label>
            </div>
            <h3>Allergies</h3>
            <div class="chip-wrap">
                <label class="chip-opt"><input type="checkbox" name="allergy" value="gluten"><span>ğŸŒ¾ Gluten</span></label>
                <label class="chip-opt"><input type="checkbox" name="allergy" value="lactose"><span>ğŸ¥› Lactose</span></label>
                <label class="chip-opt"><input type="checkbox" name="allergy" value="nuts"><span>ğŸ¥œ Fruits Ã  coque</span></label>
                <label class="chip-opt"><input type="checkbox" name="allergy" value="seafood"><span>ğŸ¦ Fruits de mer</span></label>
            </div>
            <div class="setup-actions"><span></span><button class="btn btn-primary" id="setup-next-1">Suivant â†’</button></div>
        </div>
        <div class="setup-page" id="setup-2">
            <span class="step-badge">Ã‰tape 2/3</span>
            <h1>Ton objectif</h1>
            <div class="goal-list">
                <label class="goal-opt"><input type="radio" name="goal" value="lose"><div class="goal-card"><span>âš–ï¸</span><div><strong>Perdre du poids</strong><p>Recettes lÃ©gÃ¨res</p></div></div></label>
                <label class="goal-opt"><input type="radio" name="goal" value="maintain" checked><div class="goal-card"><span>ğŸ’ª</span><div><strong>Maintenir</strong><p>Ã‰quilibre parfait</p></div></div></label>
                <label class="goal-opt"><input type="radio" name="goal" value="gain"><div class="goal-card"><span>ğŸ‹ï¸</span><div><strong>Prendre du muscle</strong><p>Riche en protÃ©ines</p></div></div></label>
            </div>
            <div class="setup-actions"><button class="btn btn-glass" id="setup-back-2">â† Retour</button><button class="btn btn-primary" id="setup-next-2">Suivant â†’</button></div>
        </div>
        <div class="setup-page" id="setup-3">
            <span class="step-badge">Ã‰tape 3/3</span>
            <h1>Aliments Ã  Ã©viter ?</h1>
            <div class="dislike-search"><span>ğŸ”</span><input type="text" id="dislike-search" placeholder="Rechercher..."></div>
            <div id="dislike-container"></div>
            <div class="setup-actions"><button class="btn btn-glass" id="setup-back-3">â† Retour</button><button class="btn btn-primary" id="setup-finish">Terminer ğŸš€</button></div>
        </div>
    </div>

    <!-- QUIZ -->
    <div class="screen" id="quiz">
        <div class="quiz-header">
            <button class="quiz-close" id="quiz-close">âœ•</button>
            <div class="quiz-prog"><div class="quiz-prog-fill" id="quiz-prog-fill"></div></div>
            <span class="quiz-count" id="quiz-count">1/20</span>
            <div class="quiz-streak">ğŸ”¥ <span id="q-streak">0</span></div>
        </div>
        <div class="quiz-area">
            <div class="quiz-card" id="quiz-card">
                <div class="card-img" id="card-img"></div>
                <div class="card-body">
                    <span class="card-emoji" id="card-emoji">ğŸ•</span>
                    <h2 id="card-q">Pizza</h2>
                    <p class="card-desc" id="card-desc">Tomate, mozzarella</p>
                </div>
                <div class="overlay nope">NOPE</div>
                <div class="overlay love">LOVE</div>
            </div>
        </div>
        <div class="quiz-btns">
            <button class="qbtn nope" id="btn-nope">âœ•</button>
            <button class="qbtn love" id="btn-love">â™¥</button>
        </div>
        <p class="quiz-hint">Swipe ou appuie</p>
    </div>

    <!-- RESULT -->
    <div class="screen" id="result">
        <span class="result-badge">ğŸ‰ Profil crÃ©Ã© !</span>
        <div class="result-profile glass-card">
            <span class="profile-emoji" id="res-emoji">ğŸ</span>
            <h1 id="res-title">L'Italien</h1>
            <p id="res-desc">Tu adores les saveurs mÃ©diterranÃ©ennes</p>
            <div class="profile-tags" id="res-tags"></div>
        </div>
        <div class="result-xp"><span>âœ¨</span><span>+100 XP</span></div>
        <button class="btn btn-primary btn-full" id="res-continue" style="max-width:300px">CrÃ©er mon compte</button>
        <button class="btn btn-glass btn-full" id="res-skip" style="max-width:300px;margin-top:10px">Continuer en invitÃ©</button>
    </div>

    <!-- MAIN -->
    <div class="screen" id="main">
        <header class="header">
            <div class="h-left"><span>ğŸ½ï¸</span> Yumr</div>
            <div class="h-right">
                <button class="h-btn" id="h-streak-btn">ğŸ”¥ <span id="h-streak">1</span></button>
                <button class="h-btn" id="h-xp-btn">â­ <span id="h-xp">0</span></button>
                <button class="h-btn icon" id="h-notif-btn">ğŸ””<span class="notif-dot"></span></button>
            </div>
        </header>
        <div class="main-scroll">
            <!-- HOME TAB -->
            <div class="tab active" id="tab-home">
                <div class="greeting"><h1>Salut <span id="u-name">Chef</span> ! ğŸ‘‹</h1><p>Qu'est-ce qu'on cuisine ?</p></div>
                <div class="daily glass-card">
                    <div class="daily-head">
                        <div class="daily-info"><span>ğŸ“…</span><div><h3>Menu du jour</h3><p>PersonnalisÃ© pour toi</p></div></div>
                        <button class="btn btn-primary btn-sm" id="btn-gen-menu">GÃ©nÃ©rer</button>
                    </div>
                    <div class="daily-preview" id="daily-preview"><p class="daily-empty">Clique sur GÃ©nÃ©rer pour crÃ©er ton menu !</p></div>
                </div>
                <div class="quick-grid">
                    <button class="quick" data-modal="m-fridge"><span>ğŸ§Š</span><span>Mon Frigo</span><span class="qbadge" id="fridge-count">0</span></button>
                    <button class="quick" data-modal="m-shopping"><span>ğŸ›’</span><span>Courses</span></button>
                    <button class="quick" data-modal="m-cooked"><span>ğŸ‘¨â€ğŸ³</span><span>CuisinÃ©s</span><span class="qbadge" id="cooked-count">0</span></button>
                    <button class="quick" data-modal="m-prep"><span>ğŸ“†</span><span>Meal Prep</span><span class="pro">PRO</span></button>
                    <button class="quick" data-modal="m-coach"><span>ğŸ¤–</span><span>Coach IA</span><span class="pro">PRO</span></button>
                    <button class="quick" data-modal="m-challenges"><span>ğŸ¯</span><span>DÃ©fis</span></button>
                </div>
                <div class="challenge glass-card">
                    <div class="ch-head"><span class="ch-tag">ğŸ”¥ DÃ©fi du jour</span><span class="ch-timer">23h</span></div>
                    <h3>Cuisine un plat vÃ©gÃ©tarien</h3>
                    <p>+75 XP et badge "Green Chef"</p>
                </div>
                <div class="stats-section">
                    <h3>ğŸ“Š Stats</h3>
                    <div class="stats-row">
                        <div class="stat"><strong id="s-level">1</strong><span>Niveau</span></div>
                        <div class="stat"><strong id="s-recipes">0</strong><span>Recettes</span></div>
                        <div class="stat"><strong id="s-streak">1</strong><span>Streak</span></div>
                        <div class="stat" data-modal="m-badges"><strong id="s-badges">0</strong><span>Badges</span></div>
                    </div>
                </div>
            </div>
            <!-- EXPLORE TAB -->
            <div class="tab" id="tab-explore">
                <h2 style="margin-bottom:12px">Explorer ğŸ”</h2>
                <div class="search"><span>ğŸ”</span><input type="text" placeholder="Rechercher..." id="search-in"></div>
                <div class="filters">
                    <button class="filter active" data-cat="all">Tout</button>
                    <button class="filter" data-cat="starter">ğŸ¥— EntrÃ©es</button>
                    <button class="filter" data-cat="main">ğŸ Plats</button>
                    <button class="filter" data-cat="dessert">ğŸ° Desserts</button>
                </div>
                <div class="recipes" id="recipes"></div>
            </div>
            <!-- LEAGUES TAB -->
            <div class="tab" id="tab-leagues">
                <h2 style="margin-bottom:12px">Ligues ğŸ†</h2>
                <div class="league-current glass-card">
                    <span class="league-icon">ğŸ¥‰</span>
                    <div class="league-info"><strong>Ligue Bronze</strong><span id="league-rank">Rang #45</span></div>
                    <div class="league-timer"><span>Fin dans</span><strong>5j 12h</strong></div>
                </div>
                <div class="league-tabs">
                    <button class="ltab active" data-lb="week">Classement</button>
                    <button class="ltab" data-lb="all">Ligues</button>
                </div>
                <div id="league-content"></div>
            </div>
            <!-- FEED TAB -->
            <div class="tab" id="tab-feed">
                <h2 style="margin-bottom:12px">CommunautÃ© ğŸŒ</h2>
                <div class="feed-search"><span>ğŸ”</span><input type="text" placeholder="Rechercher un utilisateur..." id="user-search"></div>
                <div class="feed-tabs">
                    <button class="ftab active" data-feed="all">Pour toi</button>
                    <button class="ftab" data-feed="following">Abonnements</button>
                </div>
                <div class="feed" id="feed"></div>
            </div>
            <!-- PROFILE TAB -->
            <div class="tab" id="tab-profile">
                <div class="profile-hero">
                    <div class="profile-banner"></div>
                    <div class="profile-av-wrap">
                        <div class="profile-av"><img src="https://i.pravatar.cc/72?img=33" id="profile-img"></div>
                        <span class="profile-lv" id="p-lv">1</span>
                    </div>
                    <h2 id="p-name">@chef</h2>
                    <div class="profile-type"><span id="p-emoji">ğŸ½ï¸</span><span id="p-type">Foodie</span></div>
                    <div class="profile-featured-badges" id="featured-badges"></div>
                </div>
                <div class="profile-stats">
                    <div><strong id="ps-posts">0</strong><span>Posts</span></div>
                    <div><strong id="ps-followers">0</strong><span>AbonnÃ©s</span></div>
                    <div><strong id="ps-following">0</strong><span>Abonnements</span></div>
                    <div><strong id="ps-xp">0</strong><span>XP</span></div>
                </div>
                <div class="xp-bar-wrap glass-card">
                    <div class="xp-bar-head"><span>Niveau <strong id="xp-lv">1</strong></span><span><span id="xp-cur">0</span>/<span id="xp-max">100</span> XP</span></div>
                    <div class="xp-bar"><div class="xp-fill" id="xp-fill"></div></div>
                </div>
                <div class="badges-section glass-card">
                    <div class="badges-head"><h4>ğŸ… Badges (<span id="badge-count">0</span>)</h4><button class="link" data-modal="m-badges">Voir tout</button></div>
                    <div class="badges-scroll" id="badges-scroll"></div>
                </div>
                <div class="profile-menu">
                    <button class="pmenu" data-modal="m-prefs"><span>âš™ï¸</span><span>PrÃ©fÃ©rences</span><span>â€º</span></button>
                    <button class="pmenu" data-modal="m-settings"><span>ğŸ”§</span><span>ParamÃ¨tres</span><span>â€º</span></button>
                    <button class="pmenu premium" data-modal="m-premium"><span>ğŸ‘‘</span><span>Premium</span><span>â€º</span></button>
                    <button class="pmenu" data-modal="m-referral"><span>ğŸ</span><span>Parrainage</span><span>+100 XP</span></button>
                    <button class="pmenu danger" id="btn-logout"><span>ğŸšª</span><span>DÃ©connexion</span><span></span></button>
                </div>
            </div>
        </div>
        <nav class="nav">
            <button class="nav-btn active" data-tab="home"><span>ğŸ </span><span>Accueil</span></button>
            <button class="nav-btn" data-tab="explore"><span>ğŸ”</span><span>Explorer</span></button>
            <button class="nav-btn" data-tab="leagues"><span>ğŸ†</span><span>Ligues</span></button>
            <button class="nav-btn" data-tab="feed"><span>ğŸŒ</span><span>Feed</span></button>
            <button class="nav-btn" data-tab="profile"><span>ğŸ‘¤</span><span>Profil</span></button>
        </nav>
    </div>

    <!-- MODALS -->
    <div class="modal" id="m-fridge"><div class="modal-bg" data-close="m-fridge"></div><div class="modal-sheet"><div class="modal-handle"></div><div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px"><h2 style="margin:0">ğŸ§Š Mon Frigo</h2><button class="btn btn-sm btn-primary" id="btn-add-item">+ Ajouter</button></div><div id="fridge-content"></div></div></div>
    <div class="modal" id="m-shopping"><div class="modal-bg" data-close="m-shopping"></div><div class="modal-sheet"><div class="modal-handle"></div><h2>ğŸ›’ Courses</h2><div id="shop-content"></div></div></div>
    <div class="modal" id="m-cooked"><div class="modal-bg" data-close="m-cooked"></div><div class="modal-sheet"><div class="modal-handle"></div><h2>ğŸ‘¨â€ğŸ³ Mes recettes cuisinÃ©es</h2><div id="cooked-content"></div></div></div>
    <div class="modal" id="m-badges"><div class="modal-bg" data-close="m-badges"></div><div class="modal-sheet" style="max-height:90vh"><div class="modal-handle"></div><h2>ğŸ… Badges</h2><div id="badges-content"></div></div></div>
    <div class="modal" id="m-menu"><div class="modal-bg" data-close="m-menu"></div><div class="modal-sheet" style="max-height:90vh"><div class="modal-handle"></div><h2>ğŸ½ï¸ Menu du jour</h2><div id="menu-content"></div></div></div>
    <div class="modal" id="m-add-item"><div class="modal-bg" data-close="m-add-item"></div><div class="modal-sheet"><div class="modal-handle"></div><h2>Ajouter un aliment</h2><div id="add-item-form"></div></div></div>
    <div class="modal" id="m-prefs"><div class="modal-bg" data-close="m-prefs"></div><div class="modal-sheet"><div class="modal-handle"></div><h2>âš™ï¸ PrÃ©fÃ©rences</h2><div id="prefs-content"></div></div></div>
    <div class="modal" id="m-settings"><div class="modal-bg" data-close="m-settings"></div><div class="modal-sheet"><div class="modal-handle"></div><h2>ğŸ”§ ParamÃ¨tres</h2><div id="settings-content"></div></div></div>
    <div class="modal" id="m-premium"><div class="modal-bg" data-close="m-premium"></div><div class="modal-sheet"><div class="modal-handle"></div><h2>ğŸ‘‘ Premium</h2><div id="premium-content"></div></div></div>
    <div class="modal" id="m-referral"><div class="modal-bg" data-close="m-referral"></div><div class="modal-sheet"><div class="modal-handle"></div><h2>ğŸ Parrainage</h2><div id="referral-content"></div></div></div>
    <div class="modal" id="m-challenges"><div class="modal-bg" data-close="m-challenges"></div><div class="modal-sheet"><div class="modal-handle"></div><h2>ğŸ¯ DÃ©fis</h2><div id="challenges-content"></div></div></div>
    <div class="modal" id="m-prep"><div class="modal-bg" data-close="m-prep"></div><div class="modal-sheet"><div class="modal-handle"></div><div style="text-align:center;padding:30px"><span style="font-size:48px">ğŸ“†</span><h3 style="margin:16px 0">Meal Prep</h3><p style="color:var(--text2);margin-bottom:16px">Planifie ta semaine</p><button class="btn btn-primary" onclick="openModal('m-premium')">Essayer Premium</button></div></div></div>
    <div class="modal" id="m-coach"><div class="modal-bg" data-close="m-coach"></div><div class="modal-sheet"><div class="modal-handle"></div><div style="text-align:center;padding:30px"><span style="font-size:48px">ğŸ¤–</span><h3 style="margin:16px 0">Coach IA</h3><p style="color:var(--text2);margin-bottom:16px">Conseils personnalisÃ©s</p><button class="btn btn-primary" onclick="openModal('m-premium')">Essayer Premium</button></div></div></div>
    <div class="modal" id="m-rating"><div class="modal-bg"></div><div class="modal-sheet"><div class="modal-handle"></div><div id="rating-content"></div></div></div>

    <!-- COOKING MODE -->
    <div class="cook-mode" id="cook-mode">
        <div class="cook-header">
            <button class="back-btn" id="cook-exit">â†</button>
            <h2 id="cook-title">Recette</h2>
            <button class="btn btn-sm btn-glass" id="cook-home">ğŸ </button>
        </div>
        <div class="cook-progress" id="cook-progress"></div>
        <div class="cook-content" id="cook-content"></div>
        <div class="cook-actions">
            <button class="btn btn-glass" id="cook-prev">â† PrÃ©cÃ©dent</button>
            <button class="btn btn-primary" id="cook-next">Suivant â†’</button>
        </div>
    </div>

    <!-- PHOTO POPUP -->
    <div class="photo-popup" id="photo-popup">
        <div class="photo-popup-content">
            <span>ğŸ“¸</span>
            <h3>Prendre en photo ?</h3>
            <p>Immortalise ton avancement et gagne des XP bonus !</p>
            <div class="photo-popup-btns">
                <button class="btn btn-primary btn-full" id="photo-yes">Prendre une photo (+10 XP)</button>
                <button class="btn btn-glass btn-full" id="photo-no">Plus tard</button>
            </div>
        </div>
    </div>

    <!-- TOASTS & POPUPS -->
    <div class="toasts" id="toasts"></div>
    <div class="xp-popup" id="xp-popup"><span>âœ¨</span><span id="xp-amount">+50 XP</span></div>
    <div class="levelup" id="levelup">
        <div class="levelup-box glass-card">
            <span>ğŸ‰</span>
            <h2>Niveau <span id="new-lv">2</span> !</h2>
            <p>Continue !</p>
            <button class="btn btn-primary" id="close-lv">Super !</button>
        </div>
    </div>
</div>

<script src="js/app.js"></script>
</body>
</html>
