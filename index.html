<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Yumr - Swipe. Cook. Enjoy.</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <meta name="theme-color" content="#050507">
</head>
<body>
    <div id="app">
        <!-- SPLASH -->
        <div class="screen active" id="splash">
            <div class="splash-glow"></div>
            <div class="splash-content">
                <div class="splash-logo">ğŸ½ï¸</div>
                <h1>Yumr</h1>
                <p>Swipe. Cook. Enjoy.</p>
                <div class="splash-loader"><div class="loader-fill"></div></div>
            </div>
        </div>

        <!-- ONBOARDING -->
        <div class="screen" id="onboarding">
            <div class="ob-slides">
                <div class="ob-slide active">
                    <div class="ob-visual"><div class="ob-card-demo"></div><span class="ob-swipe">ğŸ‘†</span></div>
                    <h1>Swipe tes plats</h1>
                    <p>Dis-nous ce que tu aimes en swipant.</p>
                </div>
                <div class="ob-slide">
                    <div class="ob-visual"><div class="ob-icons"><span>ğŸ¥—</span><span>ğŸ</span><span>ğŸ°</span><span>ğŸ¥©</span><span>ğŸ£</span><span>ğŸ¥˜</span></div></div>
                    <h1>Menus personnalisÃ©s</h1>
                    <p>Chaque jour, des recettes adaptÃ©es Ã  tes goÃ»ts.</p>
                </div>
                <div class="ob-slide">
                    <div class="ob-visual"><div class="ob-trophy">ğŸ†</div><span class="ob-xp">+50 XP</span></div>
                    <h1>Gagne des XP</h1>
                    <p>Cuisine, partage et progresse !</p>
                </div>
            </div>
            <div class="ob-dots"><span class="dot active"></span><span class="dot"></span><span class="dot"></span></div>
            <div class="ob-actions">
                <button class="btn btn-primary btn-full" id="ob-next">Continuer</button>
                <button class="btn btn-glass btn-full" id="ob-login">J'ai dÃ©jÃ  un compte</button>
            </div>
        </div>

        <!-- QUIZ CHOICE -->
        <div class="screen" id="quiz-choice">
            <button class="back-btn" id="qc-back">â†</button>
            <div class="qc-content">
                <div class="qc-icon">ğŸ½ï¸</div>
                <h1>CrÃ©ons ton profil</h1>
                <p>Combien de plats veux-tu Ã©valuer ?</p>
                <div class="qc-options">
                    <button class="qc-opt" data-count="10"><span class="qc-num">10</span><span class="qc-label">Express</span><span class="qc-time">~2 min</span></button>
                    <button class="qc-opt selected" data-count="20"><span class="qc-num">20</span><span class="qc-label">RecommandÃ©</span><span class="qc-time">~4 min</span></button>
                    <button class="qc-opt" data-count="50"><span class="qc-num">50</span><span class="qc-label">Complet</span><span class="qc-time">~10 min</span></button>
                </div>
                <button class="btn btn-primary btn-full" id="qc-start">C'est parti ! ğŸš€</button>
            </div>
        </div>

        <!-- AUTH -->
        <div class="screen" id="auth">
            <button class="back-btn" id="auth-back">â†</button>
            <div class="auth-box">
                <div class="auth-logo">ğŸ½ï¸</div>
                <h1 id="auth-title">Connexion</h1>
                <form id="auth-form">
                    <div class="field" id="field-username"><label>Pseudo</label><input type="text" id="in-username" placeholder="Ton pseudo"></div>
                    <div class="field"><label>Email</label><input type="email" id="in-email" placeholder="ton@email.com"></div>
                    <div class="field"><label>Mot de passe</label><input type="password" id="in-pass" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"></div>
                    <p class="auth-error" id="auth-error"></p>
                    <button type="submit" class="btn btn-primary btn-full">Se connecter</button>
                </form>
                <p class="auth-switch"><span id="auth-switch-text">Pas encore de compte ?</span><button id="auth-toggle">S'inscrire</button></p>
            </div>
        </div>

        <!-- SETUP -->
        <div class="screen" id="setup">
            <div class="setup-box">
                <div class="setup-steps"><span class="step active">1</span><span class="step-line"></span><span class="step">2</span><span class="step-line"></span><span class="step">3</span></div>
                <div class="setup-page active" id="setup-1">
                    <span class="step-badge">Ã‰tape 1/3</span>
                    <h1>Ton rÃ©gime</h1>
                    <div class="diet-grid">
                        <label class="diet-opt"><input type="radio" name="diet" value="omnivore" checked><div class="diet-card"><span>ğŸ–</span><span>Omnivore</span></div></label>
                        <label class="diet-opt"><input type="radio" name="diet" value="vegetarian"><div class="diet-card"><span>ğŸ¥¬</span><span>VÃ©gÃ©tarien</span></div></label>
                        <label class="diet-opt"><input type="radio" name="diet" value="vegan"><div class="diet-card"><span>ğŸŒ±</span><span>VÃ©gan</span></div></label>
                        <label class="diet-opt"><input type="radio" name="diet" value="flexitarian"><div class="diet-card"><span>ğŸŸ</span><span>Flexitarien</span></div></label>
                    </div>
                    <h3>Allergies</h3>
                    <div class="allergy-wrap">
                        <label class="chip-opt"><input type="checkbox" name="allergy" value="gluten"><span>ğŸŒ¾ Gluten</span></label>
                        <label class="chip-opt"><input type="checkbox" name="allergy" value="lactose"><span>ğŸ¥› Lactose</span></label>
                        <label class="chip-opt"><input type="checkbox" name="allergy" value="nuts"><span>ğŸ¥œ Fruits Ã  coque</span></label>
                        <label class="chip-opt"><input type="checkbox" name="allergy" value="seafood"><span>ğŸ¦ Fruits de mer</span></label>
                        <label class="chip-opt"><input type="checkbox" name="allergy" value="eggs"><span>ğŸ¥š Å’ufs</span></label>
                        <label class="chip-opt"><input type="checkbox" name="allergy" value="soy"><span>ğŸ«˜ Soja</span></label>
                    </div>
                    <div class="setup-actions"><span></span><button class="btn btn-primary" id="setup-next-1">Suivant â†’</button></div>
                </div>
                <div class="setup-page" id="setup-2">
                    <span class="step-badge">Ã‰tape 2/3</span>
                    <h1>Ton objectif</h1>
                    <div class="goal-list">
                        <label class="goal-opt"><input type="radio" name="goal" value="lose"><div class="goal-card"><span>âš–ï¸</span><div><strong>Perdre du poids</strong><p>Recettes lÃ©gÃ¨res</p></div></div></label>
                        <label class="goal-opt"><input type="radio" name="goal" value="maintain" checked><div class="goal-card"><span>ğŸ’ª</span><div><strong>Maintenir</strong><p>Ã‰quilibre parfait</p></div></div></label>
                        <label class="goal-opt"><input type="radio" name="goal" value="gain"><div class="goal-card"><span>ğŸ‹ï¸</span><div><strong>Prendre du muscle</strong><p>Riche en protÃ©ines</p></div></div></label>
                        <label class="goal-opt"><input type="radio" name="goal" value="health"><div class="goal-card"><span>â¤ï¸</span><div><strong>Manger sain</strong><p>Nutriments</p></div></div></label>
                    </div>
                    <div class="setup-actions"><button class="btn btn-glass" id="setup-back-2">â† Retour</button><button class="btn btn-primary" id="setup-next-2">Suivant â†’</button></div>
                </div>
                <div class="setup-page" id="setup-3">
                    <span class="step-badge">Ã‰tape 3/3</span>
                    <h1>Aliments Ã  Ã©viter ?</h1>
                    <div class="dislike-search"><span>ğŸ”</span><input type="text" id="dislike-search" placeholder="Rechercher..."></div>
                    <div id="dislike-container"></div>
                    <div class="setup-actions"><button class="btn btn-glass" id="setup-back-3">â† Retour</button><button class="btn btn-primary" id="setup-finish">Terminer ğŸš€</button></div>
                </div>
            </div>
        </div>

        <!-- QUIZ -->
        <div class="screen" id="quiz">
            <div class="quiz-header">
                <button class="quiz-close" id="quiz-close">âœ•</button>
                <div class="quiz-prog"><div class="quiz-prog-fill" id="quiz-prog-fill"></div></div>
                <span class="quiz-count" id="quiz-count">1/20</span>
                <div class="quiz-streak">ğŸ”¥ <span id="q-streak">0</span></div>
            </div>
            <div class="quiz-area">
                <div class="quiz-card" id="quiz-card">
                    <div class="card-img" id="card-img"></div>
                    <div class="card-body">
                        <span class="card-emoji" id="card-emoji">ğŸ•</span>
                        <h2 id="card-q">Pizza Margherita</h2>
                        <p class="card-desc" id="card-desc">Tomate, mozzarella, basilic</p>
                    </div>
                    <div class="overlay nope">NOPE</div>
                    <div class="overlay love">LOVE</div>
                </div>
            </div>
            <div class="quiz-btns">
                <button class="qbtn nope" id="btn-nope">âœ•</button>
                <button class="qbtn love" id="btn-love">â™¥</button>
            </div>
            <p class="quiz-hint">Swipe ou appuie</p>
        </div>

        <!-- RESULT -->
        <div class="screen" id="result">
            <div class="result-confetti" id="confetti"></div>
            <div class="result-box">
                <span class="result-badge">ğŸ‰ Profil crÃ©Ã© !</span>
                <div class="result-profile glass-card">
                    <span class="profile-emoji" id="res-emoji">ğŸ</span>
                    <h1 id="res-title">L'Italien</h1>
                    <p id="res-desc">Tu adores les saveurs mÃ©diterranÃ©ennes</p>
                    <div class="profile-tags" id="res-tags"></div>
                </div>
                <div class="result-xp"><span>âœ¨</span><span>+100 XP</span></div>
                <button class="btn btn-primary btn-full" id="res-continue">CrÃ©er mon compte</button>
                <button class="btn btn-glass btn-full" id="res-skip">Continuer en invitÃ©</button>
            </div>
        </div>

        <!-- MAIN -->
        <div class="screen" id="main">
            <header class="header">
                <div class="h-left"><span>ğŸ½ï¸</span><span>Yumr</span></div>
                <div class="h-right">
                    <button class="h-btn" id="h-streak-btn">ğŸ”¥ <span id="h-streak">1</span></button>
                    <button class="h-btn" id="h-xp-btn">â­ <span id="h-xp">0</span></button>
                    <button class="h-btn icon" id="h-notif-btn">ğŸ””<span class="notif-dot" id="notif-dot"></span></button>
                </div>
            </header>
            <div class="main-scroll">
                <div class="tab active" id="tab-home">
                    <div class="greeting"><h1>Salut <span id="u-name">Chef</span> ! ğŸ‘‹</h1><p>Qu'est-ce qu'on cuisine ?</p></div>
                    <div class="daily glass-card">
                        <div class="daily-head"><div class="daily-info"><span>ğŸ“…</span><div><h3>Menu du jour</h3><p>PersonnalisÃ© pour toi</p></div></div><button class="btn btn-primary btn-sm" id="btn-gen-menu">GÃ©nÃ©rer</button></div>
                        <div class="daily-preview" id="daily-preview"><p class="daily-empty">Clique sur GÃ©nÃ©rer pour crÃ©er ton menu !</p></div>
                    </div>
                    <div class="quick-grid">
                        <button class="quick" data-modal="m-fridge"><span>ğŸ§Š</span><span>Mon Frigo</span><span class="qbadge" id="fridge-count">0</span></button>
                        <button class="quick" data-modal="m-shopping"><span>ğŸ›’</span><span>Courses</span></button>
                        <button class="quick" data-modal="m-prep"><span>ğŸ“†</span><span>Meal Prep</span><span class="pro">PRO</span></button>
                        <button class="quick" data-modal="m-coach"><span>ğŸ¤–</span><span>Coach IA</span><span class="pro">PRO</span></button>
                        <button class="quick" data-modal="m-resto"><span>ğŸ´</span><span>Mode Resto</span><span class="pro">PRO</span></button>
                        <button class="quick" data-modal="m-challenges"><span>ğŸ¯</span><span>DÃ©fis</span></button>
                    </div>
                    <div class="challenge glass-card">
                        <div class="ch-head"><span class="ch-tag">ğŸ”¥ DÃ©fi du jour</span><span class="ch-timer">23h</span></div>
                        <h3>Cuisine un plat vÃ©gÃ©tarien</h3>
                        <p>+75 XP et badge "Green Chef"</p>
                    </div>
                    <div class="stats-section">
                        <h3>ğŸ“Š Stats</h3>
                        <div class="stats-row">
                            <div class="stat"><strong id="s-level">1</strong><span>Niveau</span></div>
                            <div class="stat"><strong id="s-recipes">0</strong><span>Recettes</span></div>
                            <div class="stat"><strong id="s-streak">1</strong><span>Streak</span></div>
                            <div class="stat clickable" data-modal="m-badges"><strong id="s-badges">0</strong><span>Badges</span></div>
                        </div>
                    </div>
                </div>
                <div class="tab" id="tab-explore">
                    <h1>Explorer ğŸ”</h1>
                    <div class="search"><span>ğŸ”</span><input type="text" placeholder="Rechercher..." id="search-in"></div>
                    <div class="explore-tabs"><button class="etab active" data-filter="all">Tout</button><button class="etab" data-filter="saved">â¤ï¸ Favoris</button></div>
                    <div class="filters"><button class="filter active" data-cat="all">Tout</button><button class="filter" data-cat="starter">ğŸ¥— EntrÃ©es</button><button class="filter" data-cat="main">ğŸ Plats</button><button class="filter" data-cat="dessert">ğŸ° Desserts</button></div>
                    <div class="recipes" id="recipes"></div>
                </div>
                <div class="tab" id="tab-leagues">
                    <h1>Ligues ğŸ†</h1>
                    <div class="league-current glass-card">
                        <span class="league-icon">ğŸ¥‰</span>
                        <div class="league-info"><strong>Ligue Bronze</strong><span id="league-rank">Rang #45</span></div>
                        <div class="league-timer"><span>Fin dans</span><strong>5j 12h</strong></div>
                    </div>
                    <div class="league-tabs"><button class="ltab active" data-lb="week">Classement</button><button class="ltab" data-lb="all">Ligues</button></div>
                    <div id="league-content"></div>
                </div>
                <div class="tab" id="tab-feed">
                    <h1>CommunautÃ© ğŸŒ</h1>
                    <div class="feed-search"><span>ğŸ”</span><input type="text" placeholder="Rechercher un utilisateur..." id="user-search"></div>
                    <div class="feed-tabs"><button class="ftab active" data-feed="all">Pour toi</button><button class="ftab" data-feed="following">Abonnements</button><button class="ftab" data-feed="mine">Mes posts</button></div>
                    <div class="feed" id="feed"></div>
                </div>
                <div class="tab" id="tab-profile">
                    <div class="profile-hero">
                        <div class="profile-banner"><button class="banner-edit" id="edit-banner">ğŸ“·</button></div>
                        <div class="profile-av-wrap">
                            <div class="profile-av"><img src="https://i.pravatar.cc/96?img=33" id="profile-img"></div>
                            <span class="profile-lv" id="p-lv">1</span>
                        </div>
                        <h2 id="p-name">@chef</h2>
                        <div class="profile-type"><span id="p-emoji">ğŸ½ï¸</span><span id="p-type">Foodie</span></div>
                        <div class="profile-featured-badges" id="featured-badges"></div>
                    </div>
                    <div class="profile-stats">
                        <div><strong id="ps-posts">0</strong><span>Posts</span></div>
                        <div><strong id="ps-followers">0</strong><span>AbonnÃ©s</span></div>
                        <div><strong id="ps-following">0</strong><span>Abonnements</span></div>
                        <div><strong id="ps-xp">0</strong><span>XP</span></div>
                    </div>
                    <div class="xp-bar-wrap glass-card">
                        <div class="xp-bar-head"><span>Niveau <strong id="xp-lv">1</strong></span><span><span id="xp-cur">0</span>/<span id="xp-max">100</span> XP</span></div>
                        <div class="xp-bar"><div class="xp-fill" id="xp-fill"></div></div>
                    </div>
                    <div class="badges-section glass-card">
                        <div class="badges-head"><h4>ğŸ… Badges (<span id="badge-count">0</span>)</h4><button class="link" data-modal="m-badges">Voir tout</button></div>
                        <div class="badges-scroll" id="badges-scroll"></div>
                    </div>
                    <div class="profile-menu">
                        <button class="pmenu" data-modal="m-prefs"><span>âš™ï¸</span><span>PrÃ©fÃ©rences</span><span>â€º</span></button>
                        <button class="pmenu" data-modal="m-settings"><span>ğŸ”§</span><span>ParamÃ¨tres</span><span>â€º</span></button>
                        <button class="pmenu premium" data-modal="m-premium"><span>ğŸ‘‘</span><span>Premium</span><span>â€º</span></button>
                        <button class="pmenu" data-modal="m-referral"><span>ğŸ</span><span>Parrainage</span><span class="ref-badge">+100 XP</span></button>
                        <button class="pmenu" id="btn-share-profile"><span>ğŸ“¤</span><span>Partager</span><span>â€º</span></button>
                        <button class="pmenu danger" id="btn-logout"><span>ğŸšª</span><span>DÃ©connexion</span><span></span></button>
                    </div>
                </div>
            </div>
            <nav class="nav">
                <button class="nav-btn active" data-tab="home"><span>ğŸ </span><span>Accueil</span></button>
                <button class="nav-btn" data-tab="explore"><span>ğŸ”</span><span>Explorer</span></button>
                <button class="nav-btn center" id="nav-post"><div class="nav-plus">+</div></button>
                <button class="nav-btn" data-tab="feed"><span>ğŸŒ</span><span>Feed</span></button>
                <button class="nav-btn" data-tab="profile"><span>ğŸ‘¤</span><span>Profil</span></button>
            </nav>
        </div>

        <!-- MODALS -->
        <div class="modal" id="m-streak"><div class="modal-bg" data-close="m-streak"></div><div class="modal-sheet"><div class="modal-handle"></div><div id="streak-content"></div></div></div>
        <div class="modal" id="m-xp"><div class="modal-bg" data-close="m-xp"></div><div class="modal-sheet"><div id="xp-content"></div></div></div>
        <div class="modal" id="m-notifs"><div class="modal-bg" data-close="m-notifs"></div><div class="modal-sheet modal-tall"><div class="modal-handle"></div><h2>ğŸ”” Notifications</h2><div id="notifs-list"></div></div></div>
        <div class="modal modal-full" id="m-menu"><div class="modal-page"><div class="modal-top"><button class="back-btn" data-close="m-menu">â†</button><h2>ğŸ½ï¸ Menu du jour</h2><span></span></div><div class="modal-scroll" id="menu-content"></div></div></div>
        <div class="modal modal-full" id="m-fridge"><div class="modal-page"><div class="modal-top"><button class="back-btn" data-close="m-fridge">â†</button><h2>ğŸ§Š Mon Frigo</h2><button class="btn btn-sm btn-primary" id="btn-add-item">+</button></div><div class="modal-scroll" id="fridge-content"></div></div></div>
        <div class="modal modal-full" id="m-shopping"><div class="modal-page"><div class="modal-top"><button class="back-btn" data-close="m-shopping">â†</button><h2>ğŸ›’ Courses</h2><button class="btn btn-sm btn-glass" id="btn-clear-shop">Vider</button></div><div class="modal-scroll" id="shop-content"></div></div></div>
        <div class="modal modal-full" id="m-badges"><div class="modal-page"><div class="modal-top"><button class="back-btn" data-close="m-badges">â†</button><h2>ğŸ… Badges</h2><span id="badges-unlocked">0/50</span></div><div class="modal-scroll" id="badges-content"></div></div></div>
        <div class="modal modal-full" id="m-prefs"><div class="modal-page"><div class="modal-top"><button class="back-btn" data-close="m-prefs">â†</button><h2>âš™ï¸ PrÃ©fÃ©rences</h2><button class="btn btn-sm btn-primary" id="btn-save-prefs">Sauver</button></div><div class="modal-scroll" id="prefs-content"></div></div></div>
        <div class="modal modal-full" id="m-settings"><div class="modal-page"><div class="modal-top"><button class="back-btn" data-close="m-settings">â†</button><h2>ğŸ”§ ParamÃ¨tres</h2><span></span></div><div class="modal-scroll" id="settings-content"></div></div></div>
        <div class="modal modal-full" id="m-premium"><div class="modal-page premium-page"><div class="modal-top"><button class="back-btn" data-close="m-premium">â†</button><h2>Yumr PRO</h2><span class="top-pro">PRO</span></div><div class="modal-scroll" id="premium-content"></div></div></div>
        <div class="modal modal-full" id="m-referral"><div class="modal-page"><div class="modal-top"><button class="back-btn" data-close="m-referral">â†</button><h2>ğŸ Parrainage</h2><span></span></div><div class="modal-scroll" id="referral-content"></div></div></div>
        <div class="modal modal-full" id="m-challenges"><div class="modal-page"><div class="modal-top"><button class="back-btn" data-close="m-challenges">â†</button><h2>ğŸ¯ DÃ©fis</h2><span></span></div><div class="modal-scroll" id="challenges-content"></div></div></div>
        <div class="modal modal-full" id="m-recipe"><div class="modal-page" id="recipe-page"></div></div>
        <div class="modal modal-full" id="m-post"><div class="modal-page"><div class="modal-top"><button class="back-btn" data-close="m-post">â†</button><h2>ğŸ“¸ Nouveau post</h2><span></span></div><div class="modal-scroll" id="post-content"></div></div></div>
        <div class="modal modal-full" id="m-post-view"><div class="modal-page" id="post-view-page"></div></div>
        <div class="modal modal-full" id="m-user"><div class="modal-page" id="user-page"></div></div>
        <div class="modal" id="m-add-item"><div class="modal-bg" data-close="m-add-item"></div><div class="modal-sheet"><div class="modal-handle"></div><h2>Ajouter</h2><div id="add-item-form"></div></div></div>
        <div class="modal" id="m-comments"><div class="modal-bg" data-close="m-comments"></div><div class="modal-sheet modal-tall"><div class="modal-handle"></div><h2>ğŸ’¬ Commentaires</h2><div id="comments-content"></div></div></div>
        <div class="modal modal-full" id="m-prep"><div class="modal-page"><div class="modal-top"><button class="back-btn" data-close="m-prep">â†</button><h2>ğŸ“† Meal Prep</h2><span class="top-pro">PRO</span></div><div class="modal-scroll"><div class="pro-intro"><span>ğŸ“†</span><h3>Planifie ta semaine</h3><p>GÃ©nÃ¨re tes menus pour toute la semaine.</p><button class="btn btn-primary" onclick="openModal('m-premium')">Essayer Premium</button></div></div></div></div>
        <div class="modal modal-full" id="m-coach"><div class="modal-page"><div class="modal-top"><button class="back-btn" data-close="m-coach">â†</button><h2>ğŸ¤– Coach IA</h2><span class="top-pro">PRO</span></div><div class="modal-scroll"><div class="pro-intro"><span>ğŸ¤–</span><h3>Ton coach nutrition</h3><p>Conseils personnalisÃ©s.</p><button class="btn btn-primary" onclick="openModal('m-premium')">Essayer Premium</button></div></div></div></div>
        <div class="modal modal-full" id="m-resto"><div class="modal-page"><div class="modal-top"><button class="back-btn" data-close="m-resto">â†</button><h2>ğŸ´ Mode Resto</h2><span class="top-pro">PRO</span></div><div class="modal-scroll"><div class="pro-intro"><span>ğŸ´</span><h3>Au restaurant</h3><p>Scanne le menu et on te recommande.</p><button class="btn btn-primary" onclick="openModal('m-premium')">Essayer Premium</button></div></div></div></div>

        <div class="toasts" id="toasts"></div>
        <div class="xp-popup" id="xp-popup"><span>âœ¨</span><span id="xp-amount">+50 XP</span></div>
        <div class="levelup" id="levelup"><div class="levelup-box glass-card"><span>ğŸ‰</span><h2>Niveau <span id="new-lv">2</span> !</h2><p>Continue !</p><button class="btn btn-primary" id="close-lv">Super !</button></div></div>
    </div>
    <script src="app.js"></script>
</body>
</html>
