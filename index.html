<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>FoodMatchs - Ton menu personnalis√©</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
</head>
<body>
    <div id="app">
        
        <!-- ============================================= -->
        <!-- LANDING / WELCOME SCREEN -->
        <!-- ============================================= -->
        <div id="welcome-screen" class="screen active">
            <div class="welcome-container">
                <div class="welcome-hero">
                    <div class="logo-large">
                        <i data-lucide="utensils-crossed"></i>
                    </div>
                    <h1>FoodMatchs</h1>
                    <p class="tagline">D√©couvre ton profil culinaire et re√ßois des menus personnalis√©s chaque jour</p>
                </div>
                
                <div class="welcome-features">
                    <div class="feature">
                        <i data-lucide="sparkles"></i>
                        <span>Quiz personnalis√©</span>
                    </div>
                    <div class="feature">
                        <i data-lucide="calendar"></i>
                        <span>Menus quotidiens</span>
                    </div>
                    <div class="feature">
                        <i data-lucide="trophy"></i>
                        <span>Succ√®s & r√©compenses</span>
                    </div>
                </div>

                <div class="welcome-actions">
                    <button class="btn btn-primary btn-lg" id="start-quiz-btn">
                        <i data-lucide="play"></i>
                        D√©couvrir mon profil
                    </button>
                    <button class="btn btn-ghost" id="already-account-btn">
                        J'ai d√©j√† un compte
                    </button>
                </div>
            </div>
        </div>

        <!-- ============================================= -->
        <!-- LOGIN SCREEN -->
        <!-- ============================================= -->
        <div id="login-screen" class="screen">
            <div class="auth-container">
                <button class="back-btn" id="login-back-btn">
                    <i data-lucide="arrow-left"></i>
                </button>
                
                <div class="auth-header">
                    <div class="logo-medium">
                        <i data-lucide="utensils-crossed"></i>
                    </div>
                    <h2>Bon retour !</h2>
                    <p>Connecte-toi pour retrouver ton profil</p>
                </div>

                <form id="login-form" class="auth-form">
                    <div class="form-group">
                        <label>Email</label>
                        <div class="input-with-icon">
                            <i data-lucide="mail"></i>
                            <input type="email" id="login-email" placeholder="ton@email.com" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Mot de passe</label>
                        <div class="input-with-icon">
                            <i data-lucide="lock"></i>
                            <input type="password" id="login-password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary btn-full">
                        Se connecter
                    </button>
                </form>

                <div id="login-error" class="error-message"></div>
            </div>
        </div>

        <!-- ============================================= -->
        <!-- QUIZ SETUP SCREEN -->
        <!-- ============================================= -->
        <div id="quiz-setup-screen" class="screen">
            <div class="quiz-setup-container">
                <button class="back-btn" id="quiz-setup-back-btn">
                    <i data-lucide="arrow-left"></i>
                </button>

                <div class="setup-header">
                    <h2>Personnalise ton quiz</h2>
                    <p>On va d√©couvrir tes go√ªts culinaires !</p>
                </div>

                <div class="setup-section">
                    <h3>Nombre de questions</h3>
                    <div class="question-count-options">
                        <button class="count-option" data-count="10">
                            <span class="count-number">10</span>
                            <span class="count-label">Rapide</span>
                            <span class="count-time">~2 min</span>
                        </button>
                        <button class="count-option active" data-count="30">
                            <span class="count-number">30</span>
                            <span class="count-label">Normal</span>
                            <span class="count-time">~5 min</span>
                        </button>
                        <button class="count-option" data-count="50">
                            <span class="count-number">50</span>
                            <span class="count-label">Complet</span>
                            <span class="count-time">~10 min</span>
                        </button>
                    </div>
                </div>

                <div class="setup-section">
                    <h3>R√©gime alimentaire</h3>
                    <div class="diet-options">
                        <button class="diet-option active" data-diet="omnivore">
                            <i data-lucide="beef"></i>
                            <span>Omnivore</span>
                        </button>
                        <button class="diet-option" data-diet="vegetarian">
                            <i data-lucide="carrot"></i>
                            <span>V√©g√©tarien</span>
                        </button>
                        <button class="diet-option" data-diet="vegan">
                            <i data-lucide="leaf"></i>
                            <span>Vegan</span>
                        </button>
                    </div>
                </div>

                <div class="setup-section">
                    <h3>Allergies / Intol√©rances</h3>
                    <div class="allergy-options">
                        <label class="allergy-checkbox">
                            <input type="checkbox" value="gluten">
                            <span class="checkbox-custom"></span>
                            <span>Sans gluten</span>
                        </label>
                        <label class="allergy-checkbox">
                            <input type="checkbox" value="lactose">
                            <span class="checkbox-custom"></span>
                            <span>Sans lactose</span>
                        </label>
                        <label class="allergy-checkbox">
                            <input type="checkbox" value="nuts">
                            <span class="checkbox-custom"></span>
                            <span>Sans fruits √† coque</span>
                        </label>
                        <label class="allergy-checkbox">
                            <input type="checkbox" value="seafood">
                            <span class="checkbox-custom"></span>
                            <span>Sans fruits de mer</span>
                        </label>
                    </div>
                </div>

                <button class="btn btn-primary btn-lg btn-full" id="start-quiz-questions-btn">
                    <i data-lucide="rocket"></i>
                    C'est parti !
                </button>
            </div>
        </div>

        <!-- ============================================= -->
        <!-- QUIZ QUESTIONS SCREEN -->
        <!-- ============================================= -->
        <div id="quiz-screen" class="screen">
            <div class="quiz-container">
                <div class="quiz-header">
                    <button class="back-btn" id="quiz-back-btn">
                        <i data-lucide="x"></i>
                    </button>
                    <div class="quiz-progress-container">
                        <div class="quiz-progress-bar">
                            <div class="quiz-progress-fill" id="quiz-progress-fill"></div>
                        </div>
                        <span class="quiz-progress-text" id="quiz-progress-text">1/30</span>
                    </div>
                </div>

                <div class="quiz-content">
                    <div class="quiz-card" id="quiz-card">
                        <div class="quiz-card-emoji" id="quiz-card-emoji">üçï</div>
                        <h2 class="quiz-card-question" id="quiz-card-question">Tu aimes les pizzas ?</h2>
                    </div>
                </div>

                <div class="quiz-buttons">
                    <button class="quiz-answer-btn dislike" id="quiz-btn-no">
                        <i data-lucide="thumbs-down"></i>
                        <span>Bof</span>
                    </button>
                    <button class="quiz-answer-btn like" id="quiz-btn-yes">
                        <i data-lucide="thumbs-up"></i>
                        <span>J'adore</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- ============================================= -->
        <!-- QUIZ RESULT SCREEN -->
        <!-- ============================================= -->
        <div id="result-screen" class="screen">
            <div class="result-container">
                <div class="result-confetti" id="result-confetti"></div>
                
                <div class="result-header">
                    <span class="result-badge">üéâ Ton profil culinaire</span>
                </div>

                <div class="result-profile-card">
                    <div class="profile-emoji" id="result-emoji">üç≥</div>
                    <h2 class="profile-name" id="result-name">Le Gourmet</h2>
                    <p class="profile-description" id="result-description">Tu appr√©cies les bonnes choses de la vie...</p>
                    <div class="profile-tags" id="result-tags"></div>
                </div>

                <div class="result-cta">
                    <p>Cr√©e ton compte pour sauvegarder ton profil et recevoir tes menus personnalis√©s !</p>
                    <button class="btn btn-primary btn-lg btn-full" id="create-account-btn">
                        <i data-lucide="user-plus"></i>
                        Cr√©er mon compte
                    </button>
                    <button class="btn btn-ghost" id="skip-account-btn">
                        Continuer sans compte
                    </button>
                </div>
            </div>
        </div>

        <!-- ============================================= -->
        <!-- REGISTER SCREEN -->
        <!-- ============================================= -->
        <div id="register-screen" class="screen">
            <div class="auth-container">
                <button class="back-btn" id="register-back-btn">
                    <i data-lucide="arrow-left"></i>
                </button>
                
                <div class="auth-header">
                    <h2>Cr√©e ton compte</h2>
                    <p>Et sauvegarde ton profil <span id="register-profile-name">Gourmet</span></p>
                </div>

                <form id="register-form" class="auth-form">
                    <div class="form-group">
                        <label>Pseudo</label>
                        <div class="input-with-icon">
                            <i data-lucide="user"></i>
                            <input type="text" id="register-username" placeholder="TonPseudo" required minlength="3" maxlength="20">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <div class="input-with-icon">
                            <i data-lucide="mail"></i>
                            <input type="email" id="register-email" placeholder="ton@email.com" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Mot de passe</label>
                        <div class="input-with-icon">
                            <i data-lucide="lock"></i>
                            <input type="password" id="register-password" placeholder="6 caract√®res minimum" required minlength="6">
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary btn-full">
                        Cr√©er mon compte
                    </button>
                </form>

                <div id="register-error" class="error-message"></div>
            </div>
        </div>

        <!-- ============================================= -->
        <!-- MAIN APP -->
        <!-- ============================================= -->
        <div id="main-app" class="screen">
            <!-- Top Bar -->
            <header class="app-header">
                <div class="header-left">
                    <i data-lucide="utensils-crossed" class="header-logo"></i>
                    <span class="header-title">FoodMatchs</span>
                </div>
                <div class="header-right">
                    <div class="streak-pill" id="streak-pill">
                        <i data-lucide="flame"></i>
                        <span id="streak-count">0</span>
                    </div>
                    <button class="icon-btn" id="notifications-btn">
                        <i data-lucide="bell"></i>
                        <span class="notification-badge hidden" id="notif-badge">3</span>
                    </button>
                </div>
            </header>

            <!-- Main Content -->
            <main class="app-main">
                <!-- HOME TAB -->
                <section class="tab-panel active" id="tab-home">
                    <div class="home-hero">
                        <h1>Bonjour <span id="user-display-name">Chef</span> !</h1>
                        <p>Qu'est-ce qu'on mange aujourd'hui ?</p>
                    </div>

                    <div class="daily-menu-card" id="daily-menu-card">
                        <div class="daily-menu-header">
                            <i data-lucide="chef-hat"></i>
                            <div>
                                <h3>Menu du jour</h3>
                                <p id="daily-menu-status">G√©n√®re ton menu personnalis√©</p>
                            </div>
                        </div>
                        <button class="btn btn-primary" id="generate-menu-btn">
                            <i data-lucide="sparkles"></i>
                            G√©n√©rer mon menu
                        </button>
                    </div>

                    <div class="today-menu hidden" id="today-menu">
                        <h3>
                            <i data-lucide="utensils"></i>
                            Ton menu du jour
                        </h3>
                        <div class="menu-items" id="menu-items"></div>
                    </div>

                    <div class="stats-grid">
                        <div class="stat-card">
                            <i data-lucide="star"></i>
                            <span class="stat-value" id="stat-level">1</span>
                            <span class="stat-label">Niveau</span>
                        </div>
                        <div class="stat-card">
                            <i data-lucide="zap"></i>
                            <span class="stat-value" id="stat-xp">0</span>
                            <span class="stat-label">XP</span>
                        </div>
                        <div class="stat-card">
                            <i data-lucide="trophy"></i>
                            <span class="stat-value" id="stat-achievements">0</span>
                            <span class="stat-label">Succ√®s</span>
                        </div>
                    </div>
                </section>

                <!-- EXPLORE TAB -->
                <section class="tab-panel" id="tab-explore">
                    <div class="explore-header">
                        <h2>Explorer</h2>
                        <div class="search-input-container">
                            <i data-lucide="search"></i>
                            <input type="text" id="search-recipes" placeholder="Rechercher une recette...">
                        </div>
                    </div>

                    <div class="filter-tabs">
                        <button class="filter-tab active" data-filter="all">Tout</button>
                        <button class="filter-tab" data-filter="starter">Entr√©es</button>
                        <button class="filter-tab" data-filter="main">Plats</button>
                        <button class="filter-tab" data-filter="dessert">Desserts</button>
                        <button class="filter-tab" data-filter="cheese">Fromages</button>
                        <button class="filter-tab" data-filter="wine">Vins</button>
                    </div>

                    <div class="recipes-grid" id="recipes-grid"></div>
                </section>

                <!-- SOCIAL TAB -->
                <section class="tab-panel" id="tab-social">
                    <div class="social-header">
                        <h2>Communaut√©</h2>
                    </div>
                    <div class="coming-soon">
                        <i data-lucide="users"></i>
                        <h3>Bient√¥t disponible</h3>
                        <p>Partage tes recettes avec la communaut√©</p>
                    </div>
                </section>

                <!-- FRIDGE TAB -->
                <section class="tab-panel" id="tab-fridge">
                    <div class="fridge-header">
                        <h2>Mon Frigo</h2>
                        <button class="btn btn-small" id="add-fridge-btn">
                            <i data-lucide="plus"></i>
                            Ajouter
                        </button>
                    </div>

                    <div class="fridge-content" id="fridge-content">
                        <div class="empty-state">
                            <i data-lucide="refrigerator"></i>
                            <h3>Ton frigo est vide</h3>
                            <p>Ajoute des ingr√©dients pour recevoir des suggestions de recettes</p>
                        </div>
                    </div>

                    <div class="fridge-suggestions hidden" id="fridge-suggestions">
                        <h3>
                            <i data-lucide="lightbulb"></i>
                            Suggestions de recettes
                        </h3>
                        <div class="suggestions-list" id="suggestions-list"></div>
                    </div>
                </section>

                <!-- PROFILE TAB -->
                <section class="tab-panel" id="tab-profile">
                    <div class="profile-header-section">
                        <div class="profile-avatar-container">
                            <div class="profile-avatar" id="profile-avatar">
                                <i data-lucide="user"></i>
                            </div>
                            <button class="avatar-edit-btn" id="avatar-edit-btn">
                                <i data-lucide="camera"></i>
                            </button>
                            <input type="file" id="avatar-input" accept="image/*" hidden>
                        </div>
                        <h2 id="profile-display-name">@username</h2>
                        <p class="profile-bio" id="profile-bio">Passionn√© de cuisine</p>
                        
                        <div class="profile-stats-row">
                            <div class="profile-stat">
                                <strong id="profile-followers">0</strong>
                                <span>Abonn√©s</span>
                            </div>
                            <div class="profile-stat">
                                <strong id="profile-following">0</strong>
                                <span>Abonnements</span>
                            </div>
                            <div class="profile-stat">
                                <strong id="profile-recipes">0</strong>
                                <span>Recettes</span>
                            </div>
                        </div>
                    </div>

                    <div class="profile-culinary-section" id="profile-culinary">
                        <!-- Culinary profile shown here -->
                    </div>

                    <div class="profile-menu-list">
                        <button class="profile-menu-item" id="menu-preferences">
                            <i data-lucide="settings"></i>
                            <span>Pr√©f√©rences alimentaires</span>
                            <i data-lucide="chevron-right"></i>
                        </button>
                        <button class="profile-menu-item" id="menu-achievements">
                            <i data-lucide="trophy"></i>
                            <span>Mes succ√®s</span>
                            <i data-lucide="chevron-right"></i>
                        </button>
                        <button class="profile-menu-item" id="menu-saved">
                            <i data-lucide="heart"></i>
                            <span>Recettes sauvegard√©es</span>
                            <i data-lucide="chevron-right"></i>
                        </button>
                        <button class="profile-menu-item danger" id="menu-logout">
                            <i data-lucide="log-out"></i>
                            <span>D√©connexion</span>
                            <i data-lucide="chevron-right"></i>
                        </button>
                    </div>
                </section>
            </main>

            <!-- Bottom Navigation -->
            <nav class="bottom-nav">
                <button class="nav-btn active" data-tab="home">
                    <i data-lucide="home"></i>
                    <span>Accueil</span>
                </button>
                <button class="nav-btn" data-tab="explore">
                    <i data-lucide="compass"></i>
                    <span>Explorer</span>
                </button>
                <button class="nav-btn" data-tab="social">
                    <i data-lucide="users"></i>
                    <span>Social</span>
                </button>
                <button class="nav-btn" data-tab="fridge">
                    <i data-lucide="refrigerator"></i>
                    <span>Frigo</span>
                </button>
                <button class="nav-btn" data-tab="profile">
                    <i data-lucide="user"></i>
                    <span>Profil</span>
                </button>
            </nav>
        </div>

        <!-- ============================================= -->
        <!-- MODALS -->
        <!-- ============================================= -->
        
        <!-- Daily Menu Options Modal -->
        <div class="modal" id="menu-options-modal">
            <div class="modal-overlay"></div>
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Options du menu</h3>
                    <button class="modal-close-btn">
                        <i data-lucide="x"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="option-section">
                        <label>Budget</label>
                        <div class="budget-options">
                            <button class="budget-btn active" data-budget="low">‚Ç¨</button>
                            <button class="budget-btn" data-budget="medium">‚Ç¨‚Ç¨</button>
                            <button class="budget-btn" data-budget="high">‚Ç¨‚Ç¨‚Ç¨</button>
                        </div>
                    </div>
                    <div class="option-section">
                        <label>Portions</label>
                        <div class="portions-picker">
                            <button class="portion-btn minus">
                                <i data-lucide="minus"></i>
                            </button>
                            <span id="portions-value">2</span>
                            <button class="portion-btn plus">
                                <i data-lucide="plus"></i>
                            </button>
                        </div>
                    </div>
                    <div class="option-section">
                        <label class="toggle-option">
                            <span><i data-lucide="milk"></i> Inclure un fromage</span>
                            <input type="checkbox" id="include-cheese">
                            <span class="toggle"></span>
                        </label>
                        <label class="toggle-option">
                            <span><i data-lucide="wine"></i> Sugg√©rer un vin</span>
                            <input type="checkbox" id="include-wine">
                            <span class="toggle"></span>
                        </label>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-primary btn-full" id="confirm-generate-btn">
                        <i data-lucide="sparkles"></i>
                        G√©n√©rer mon menu
                    </button>
                </div>
            </div>
        </div>

        <!-- Recipe Detail Modal -->
        <div class="modal" id="recipe-modal">
            <div class="modal-overlay"></div>
            <div class="modal-content modal-fullscreen">
                <div class="recipe-detail-header">
                    <button class="back-btn" id="recipe-back-btn">
                        <i data-lucide="arrow-left"></i>
                    </button>
                    <button class="icon-btn" id="recipe-save-btn">
                        <i data-lucide="heart"></i>
                    </button>
                </div>
                <div class="recipe-detail-body" id="recipe-detail-body">
                    <!-- Content loaded dynamically -->
                </div>
            </div>
        </div>

        <!-- Add Ingredient Modal -->
        <div class="modal" id="ingredient-modal">
            <div class="modal-overlay"></div>
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Ajouter un ingr√©dient</h3>
                    <button class="modal-close-btn">
                        <i data-lucide="x"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label>Nom</label>
                        <input type="text" id="ingredient-name" placeholder="Ex: Tomates">
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Quantit√©</label>
                            <input type="number" id="ingredient-qty" value="1" min="1">
                        </div>
                        <div class="form-group">
                            <label>Unit√©</label>
                            <select id="ingredient-unit">
                                <option value="unit√©">unit√©</option>
                                <option value="g">g</option>
                                <option value="kg">kg</option>
                                <option value="ml">ml</option>
                                <option value="L">L</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Date de p√©remption</label>
                        <input type="date" id="ingredient-expiry">
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-primary btn-full" id="save-ingredient-btn">
                        <i data-lucide="plus"></i>
                        Ajouter
                    </button>
                </div>
            </div>
        </div>

        <!-- Toast Container -->
        <div class="toast-container" id="toast-container"></div>

    </div>

    <script src="app.js"></script>
</body>
</html>
