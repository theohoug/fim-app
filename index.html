<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Yumr - Cuisine. Joue. Progresse.</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="app">
        <!-- FX Layer -->
        <div class="fx-layer">
            <div class="ambient-glow glow-1"></div>
            <div class="ambient-glow glow-2"></div>
            <div id="particles-container"></div>
        </div>

        <!-- ==================== SPLASH ==================== -->
        <div class="screen active" id="splash">
            <div class="splash-center">
                <div class="logo-emoji float-anim">üç≥</div>
                <h1 class="brand-title">Yumr</h1>
                <p class="brand-tagline">Cuisine. Joue. Progresse.</p>
                <div class="loader-bar"><div class="loader-fill"></div></div>
            </div>
        </div>

        <!-- ==================== ONBOARDING ==================== -->
        <div class="screen" id="onboarding">
            <div class="onboarding-content">
                <div class="onboarding-slider" id="ob-slider"></div>
                <div class="onboarding-footer">
                    <div class="ob-dots" id="ob-dots"></div>
                    <button class="btn btn-primary btn-full bounce-click" id="ob-next">Continuer</button>
                    <button class="btn btn-text bounce-click" id="ob-skip">J'ai d√©j√† un compte</button>
                </div>
            </div>
        </div>

        <!-- ==================== QUIZ CHOICE ==================== -->
        <div class="screen" id="quiz-choice">
            <div class="quiz-choice-content scroll-y">
                <div class="quiz-choice-header">
                    <span class="badge-new">NOUVEAU</span>
                    <h1>D√©couvre ton profil culinaire</h1>
                    <p>Swipe sur des plats pour qu'on apprenne tes go√ªts</p>
                </div>
                <div class="quiz-choice-options">
                    <button class="quiz-choice-card bounce-click" data-count="10">
                        <span class="qcc-emoji">‚ö°</span>
                        <span class="qcc-title">Express</span>
                        <span class="qcc-desc">10 plats ‚Ä¢ 2 min</span>
                    </button>
                    <button class="quiz-choice-card selected bounce-click" data-count="20">
                        <span class="qcc-emoji">üéØ</span>
                        <span class="qcc-title">Recommand√©</span>
                        <span class="qcc-desc">20 plats ‚Ä¢ 4 min</span>
                        <span class="qcc-badge">MEILLEUR</span>
                    </button>
                    <button class="quiz-choice-card bounce-click" data-count="30">
                        <span class="qcc-emoji">üèÜ</span>
                        <span class="qcc-title">Complet</span>
                        <span class="qcc-desc">30 plats ‚Ä¢ 6 min</span>
                    </button>
                </div>
                <button class="btn btn-primary btn-full bounce-click" id="quiz-start">C'est parti !</button>
            </div>
        </div>

        <!-- ==================== QUIZ SWIPE ==================== -->
        <div class="screen" id="quiz">
            <div class="header-transparent">
                <button class="btn-icon bounce-click" id="quiz-back">‚Üê</button>
                <div class="progress-pill">
                    <div class="progress-fill" id="quiz-progress"></div>
                </div>
                <span class="quiz-counter" id="quiz-counter">1/20</span>
            </div>
            <div class="quiz-container">
                <div class="quiz-stack" id="quiz-stack"></div>
                <div class="quiz-controls">
                    <button class="quiz-action-btn nope bounce-click" id="quiz-nope">‚úï</button>
                    <button class="quiz-action-btn love bounce-click" id="quiz-love">‚ô•</button>
                </div>
                <p class="quiz-hint">Swipe ou utilise les boutons</p>
            </div>
        </div>

        <!-- ==================== QUIZ PREFERENCES ==================== -->
        <div class="screen" id="quiz-prefs">
            <div class="prefs-content scroll-y">
                <div class="prefs-header">
                    <span class="badge-new">PRESQUE FINI</span>
                    <h1>Tes pr√©f√©rences</h1>
                    <p>Pour personnaliser tes menus</p>
                </div>

                <div class="prefs-section">
                    <h3>üçΩÔ∏è R√©gime alimentaire</h3>
                    <div class="prefs-grid">
                        <label class="pref-option">
                            <input type="radio" name="diet" value="omnivore" checked>
                            <span class="pref-card"><span>ü•©</span><span>Omnivore</span></span>
                        </label>
                        <label class="pref-option">
                            <input type="radio" name="diet" value="vegetarian">
                            <span class="pref-card"><span>ü•ó</span><span>V√©g√©tarien</span></span>
                        </label>
                        <label class="pref-option">
                            <input type="radio" name="diet" value="vegan">
                            <span class="pref-card"><span>üå±</span><span>V√©gan</span></span>
                        </label>
                        <label class="pref-option">
                            <input type="radio" name="diet" value="flexitarian">
                            <span class="pref-card"><span>üêü</span><span>Flexitarien</span></span>
                        </label>
                    </div>
                </div>

                <div class="prefs-section">
                    <h3>‚ö†Ô∏è Allergies & Intol√©rances</h3>
                    <div class="prefs-chips">
                        <label class="pref-chip"><input type="checkbox" name="allergy" value="gluten"><span>Gluten</span></label>
                        <label class="pref-chip"><input type="checkbox" name="allergy" value="lactose"><span>Lactose</span></label>
                        <label class="pref-chip"><input type="checkbox" name="allergy" value="nuts"><span>Fruits √† coque</span></label>
                        <label class="pref-chip"><input type="checkbox" name="allergy" value="eggs"><span>≈íufs</span></label>
                        <label class="pref-chip"><input type="checkbox" name="allergy" value="seafood"><span>Fruits de mer</span></label>
                        <label class="pref-chip"><input type="checkbox" name="allergy" value="soy"><span>Soja</span></label>
                    </div>
                </div>

                <div class="prefs-section">
                    <h3>üë®‚Äçüç≥ Niveau en cuisine</h3>
                    <div class="prefs-grid cols-3">
                        <label class="pref-option">
                            <input type="radio" name="level" value="beginner" checked>
                            <span class="pref-card vertical"><span>ü•Ñ</span><span>D√©butant</span></span>
                        </label>
                        <label class="pref-option">
                            <input type="radio" name="level" value="intermediate">
                            <span class="pref-card vertical"><span>üç≥</span><span>Interm√©diaire</span></span>
                        </label>
                        <label class="pref-option">
                            <input type="radio" name="level" value="advanced">
                            <span class="pref-card vertical"><span>üë®‚Äçüç≥</span><span>Avanc√©</span></span>
                        </label>
                    </div>
                </div>

                <button class="btn btn-primary btn-full bounce-click" id="prefs-done">Terminer</button>
            </div>
        </div>

        <!-- ==================== QUIZ RESULT ==================== -->
        <div class="screen" id="quiz-result">
            <div class="result-content">
                <div class="result-confetti" id="result-confetti"></div>
                <span class="badge-new">TON PROFIL</span>
                <div class="result-profile-card glass-card">
                    <span class="result-emoji" id="result-emoji">üçù</span>
                    <h1 id="result-name">L'Italien</h1>
                    <p id="result-desc">Tu craques pour les saveurs m√©diterran√©ennes</p>
                    <div class="result-tags" id="result-tags"></div>
                </div>
                <button class="btn btn-primary btn-full bounce-click" id="result-continue">Cr√©er mon compte</button>
            </div>
        </div>

        <!-- ==================== AUTH ==================== -->
        <div class="screen" id="auth">
            <div class="auth-content scroll-y">
                <div class="auth-header">
                    <span class="auth-icon">üëã</span>
                    <h2 id="auth-title">Cr√©e ton compte</h2>
                    <p>Sauvegarde ta progression et rejoins les ligues !</p>
                </div>
                <form id="auth-form" class="glass-form">
                    <div class="input-group" id="group-username">
                        <label>Pseudo</label>
                        <input type="text" id="input-username" placeholder="ChefGordon" autocomplete="off">
                    </div>
                    <div class="input-group">
                        <label>Email</label>
                        <input type="email" id="input-email" placeholder="hello@yumr.app">
                    </div>
                    <div class="input-group">
                        <label>Mot de passe</label>
                        <input type="password" id="input-password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                    </div>
                    <button type="submit" class="btn btn-primary btn-full bounce-click">C'est parti</button>
                </form>
                <p class="auth-switch">
                    <span id="auth-switch-text">D√©j√† un compte ?</span>
                    <button class="btn-link" id="auth-toggle">Se connecter</button>
                </p>
                <button class="btn-link secondary" id="auth-skip">Continuer en invit√©</button>
            </div>
        </div>

        <!-- ==================== HOME ==================== -->
        <div class="screen" id="home">
            <header class="app-header glass-header">
                <div class="header-brand">Yumr</div>
                <div class="header-stats">
                    <div class="stat-pill fire" id="streak-display">
                        <span>üî•</span><strong id="streak-val">0</strong>
                    </div>
                    <div class="stat-pill xp">
                        <span>üíé</span><strong id="xp-val">0</strong>
                    </div>
                </div>
            </header>

            <div class="content-scroll scroll-y">
                <!-- Greeting -->
                <h1 id="greeting" class="home-greeting">Salut, Chef !</h1>

                <!-- Daily Menu Card -->
                <div class="daily-menu-card glass-card bounce-click" id="daily-menu-card">
                    <div class="dmc-header">
                        <span class="tag-premium">MENU DU JOUR</span>
                        <button class="btn-icon-sm" id="regenerate-menu">üîÑ</button>
                    </div>
                    <div class="dmc-content" id="daily-menu-preview">
                        <div class="dmc-empty">
                            <span>üçΩÔ∏è</span>
                            <p>G√©n√®re ton menu personnalis√©</p>
                            <button class="btn btn-primary bounce-click" id="generate-menu-btn">G√©n√©rer mon menu</button>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="quick-grid">
                    <button class="quick-btn bounce-click" data-action="fridge">
                        <span class="qb-icon">üßä</span>
                        <span class="qb-label">Mon Frigo</span>
                        <span class="qb-badge" id="fridge-count">0</span>
                    </button>
                    <button class="quick-btn bounce-click" data-action="shopping">
                        <span class="qb-icon">üõí</span>
                        <span class="qb-label">Courses</span>
                        <span class="qb-badge" id="shopping-count">0</span>
                    </button>
                    <button class="quick-btn bounce-click" data-action="favorites">
                        <span class="qb-icon">‚ù§Ô∏è</span>
                        <span class="qb-label">Favoris</span>
                        <span class="qb-badge" id="favorites-count">0</span>
                    </button>
                </div>

                <!-- Daily Challenge -->
                <div class="challenge-card glass-card bounce-click" id="challenge-card">
                    <div class="challenge-icon">üéØ</div>
                    <div class="challenge-info">
                        <span class="challenge-label">D√âFI DU JOUR</span>
                        <h3 id="challenge-title">Cuisine un plat v√©g√©tarien</h3>
                        <div class="challenge-reward">+50 XP</div>
                    </div>
                    <div class="challenge-progress">
                        <div class="challenge-progress-fill" id="challenge-progress"></div>
                    </div>
                </div>

                <!-- Feed Section -->
                <div class="section-header">
                    <h2>Pour toi</h2>
                    <button class="btn-link">Voir tout</button>
                </div>
                <div id="feed-list"></div>

                <div style="height: 120px;"></div>
            </div>
        </div>

        <!-- ==================== EXPLORE ==================== -->
        <div class="screen" id="explore">
            <div class="header-search glass-header">
                <div class="search-bar">
                    <span>üîç</span>
                    <input type="text" placeholder="Rechercher une recette..." id="search-input">
                </div>
            </div>
            <div class="content-scroll scroll-y" style="padding-top: 80px;">
                <div class="filters-row" id="filters-row">
                    <button class="filter-chip active" data-filter="all">Tout</button>
                    <button class="filter-chip" data-filter="quick">‚ö° Rapide</button>
                    <button class="filter-chip" data-filter="healthy">ü•ó Healthy</button>
                    <button class="filter-chip" data-filter="comfort">üçï Comfort</button>
                    <button class="filter-chip" data-filter="dessert">üç∞ Dessert</button>
                </div>
                <div class="recipes-grid" id="recipes-grid"></div>
                <div style="height: 120px;"></div>
            </div>
        </div>

        <!-- ==================== SOCIAL / LEAGUES ==================== -->
        <div class="screen" id="social">
            <header class="app-header glass-header">
                <h2>Classement</h2>
                <div class="league-timer-small" id="league-timer-small">2j 14h</div>
            </header>
            <div class="content-scroll scroll-y">
                <!-- League Card -->
                <div class="league-hero-card" id="league-hero">
                    <div class="league-glow"></div>
                    <div class="league-icon-big" id="league-icon-big">ü•â</div>
                    <h1 id="league-name">Ligue Bronze</h1>
                    <p class="league-subtitle">Top 5 = Promotion üöÄ</p>
                    <div class="league-progress-bar">
                        <div class="league-progress-fill" id="league-progress-fill"></div>
                    </div>
                    <p class="league-next" id="league-next">Encore 100 XP pour l'Argent</p>
                </div>

                <!-- Leaderboard -->
                <div class="leaderboard-section">
                    <h3>Cette semaine</h3>
                    <div class="leaderboard glass-card" id="leaderboard-list"></div>
                </div>

                <!-- Your Position -->
                <div class="your-position glass-card" id="your-position">
                    <span class="yp-rank">#45</span>
                    <img src="https://i.pravatar.cc/40?img=12" class="yp-avatar">
                    <span class="yp-name">Toi</span>
                    <span class="yp-xp">0 XP</span>
                </div>

                <div style="height: 120px;"></div>
            </div>
        </div>

        <!-- ==================== PROFILE ==================== -->
        <div class="screen" id="profile">
            <div class="content-scroll scroll-y">
                <div class="profile-header">
                    <div class="avatar-container">
                        <img src="https://i.pravatar.cc/150?img=12" id="profile-img" class="profile-avatar">
                        <div class="level-badge" id="profile-lvl">1</div>
                    </div>
                    <h2 id="profile-name">@Chef</h2>
                    <p id="profile-title">Apprenti Cuisinier</p>
                    <div class="xp-bar-container">
                        <div class="xp-bar">
                            <div class="xp-bar-fill" id="profile-xp-bar"></div>
                        </div>
                        <span class="xp-text" id="profile-xp-text">0/100 XP</span>
                    </div>
                </div>

                <div class="stats-row">
                    <div class="stat-box glass-card">
                        <span class="sb-val" id="stat-cooked">0</span>
                        <span class="sb-label">Plats cuisin√©s</span>
                    </div>
                    <div class="stat-box glass-card">
                        <span class="sb-val" id="stat-streak">0</span>
                        <span class="sb-label">Jours de streak</span>
                    </div>
                    <div class="stat-box glass-card">
                        <span class="sb-val" id="stat-badges">0</span>
                        <span class="sb-label">Badges</span>
                    </div>
                </div>

                <!-- Badges Section -->
                <div class="section-header">
                    <h2>Mes badges</h2>
                </div>
                <div class="badges-grid" id="badges-grid"></div>

                <!-- Menu List -->
                <div class="menu-list glass-card">
                    <button class="menu-item bounce-click" data-action="settings">
                        <span>‚öôÔ∏è</span><span>Param√®tres</span><span class="menu-arrow">‚Ä∫</span>
                    </button>
                    <button class="menu-item bounce-click" data-action="favorites">
                        <span>‚ù§Ô∏è</span><span>Mes favoris</span><span class="menu-arrow">‚Ä∫</span>
                    </button>
                    <button class="menu-item bounce-click" data-action="history">
                        <span>üìú</span><span>Historique</span><span class="menu-arrow">‚Ä∫</span>
                    </button>
                    <button class="menu-item bounce-click" data-action="mealprep">
                        <span>üìÖ</span><span>Meal Prep Semaine</span><span class="menu-arrow">‚Ä∫</span>
                    </button>
                    <button class="menu-item bounce-click danger" id="btn-logout">
                        <span>üö™</span><span>D√©connexion</span>
                    </button>
                </div>

                <div style="height: 120px;"></div>
            </div>
        </div>

        <!-- ==================== COOKING MODE ==================== -->
        <div class="screen" id="cooking">
            <div class="cooking-header">
                <button class="btn-icon bounce-click" id="cooking-close">‚úï</button>
                <span id="cooking-recipe-name">Recette</span>
                <button class="btn-icon bounce-click" id="cooking-fav">ü§ç</button>
            </div>

            <div class="cooking-progress-bar">
                <div class="cooking-progress-fill" id="cooking-progress-fill"></div>
            </div>

            <div class="cooking-content scroll-y">
                <div class="step-indicator" id="step-indicator">√âTAPE 1/5</div>

                <div class="timer-container" id="timer-container">
                    <svg class="timer-svg" viewBox="0 0 100 100">
                        <circle class="timer-bg" cx="50" cy="50" r="45"></circle>
                        <circle class="timer-progress" id="timer-ring" cx="50" cy="50" r="45"></circle>
                    </svg>
                    <div class="timer-text">
                        <span id="timer-display">00:00</span>
                        <button class="btn-timer bounce-click" id="timer-toggle">‚ñ∂</button>
                    </div>
                </div>

                <div class="step-card glass-card">
                    <p id="step-text">Chargement...</p>
                </div>

                <div class="step-ingredients glass-card" id="step-ingredients">
                    <h4>Ingr√©dients pour cette √©tape</h4>
                    <ul id="step-ingredients-list"></ul>
                </div>
            </div>

            <div class="cooking-footer">
                <button class="btn btn-secondary bounce-click" id="step-prev" disabled>‚Üê Pr√©c√©dent</button>
                <button class="btn btn-primary bounce-click" id="step-next">Suivant ‚Üí</button>
            </div>
        </div>

        <!-- ==================== MODALS ==================== -->

        <!-- Modal: Generate Menu -->
        <div class="modal" id="modal-menu-gen">
            <div class="modal-backdrop" onclick="closeModal('modal-menu-gen')"></div>
            <div class="modal-content glass-card">
                <div class="modal-header">
                    <h2>üçΩÔ∏è G√©n√®re ton menu</h2>
                    <button class="btn-icon" onclick="closeModal('modal-menu-gen')">‚úï</button>
                </div>
                <div class="modal-body scroll-y">
                    <!-- Budget -->
                    <div class="menu-gen-section">
                        <h4>üí∞ Budget</h4>
                        <div class="option-row">
                            <label class="option-card"><input type="radio" name="budget" value="low" checked><span>‚Ç¨</span><small>√âconomique</small></label>
                            <label class="option-card"><input type="radio" name="budget" value="medium"><span>‚Ç¨‚Ç¨</span><small>Standard</small></label>
                            <label class="option-card"><input type="radio" name="budget" value="high"><span>‚Ç¨‚Ç¨‚Ç¨</span><small>Gourmet</small></label>
                        </div>
                    </div>

                    <!-- Servings -->
                    <div class="menu-gen-section">
                        <h4>üë• Nombre de personnes</h4>
                        <div class="stepper">
                            <button class="stepper-btn" id="servings-minus">‚àí</button>
                            <span class="stepper-value" id="servings-value">2</span>
                            <button class="stepper-btn" id="servings-plus">+</button>
                        </div>
                    </div>

                    <!-- Time -->
                    <div class="menu-gen-section">
                        <h4>‚è±Ô∏è Temps disponible</h4>
                        <div class="option-row">
                            <label class="option-card"><input type="radio" name="time" value="15"><span>15min</span><small>Express</small></label>
                            <label class="option-card"><input type="radio" name="time" value="30" checked><span>30min</span><small>Normal</small></label>
                            <label class="option-card"><input type="radio" name="time" value="60"><span>1h</span><small>√âlabor√©</small></label>
                            <label class="option-card"><input type="radio" name="time" value="999"><span>‚àû</span><small>Illimit√©</small></label>
                        </div>
                    </div>

                    <!-- Options -->
                    <div class="menu-gen-section">
                        <h4>üßÄ Options</h4>
                        <label class="toggle-option">
                            <span>Inclure du fromage</span>
                            <input type="checkbox" id="opt-cheese" checked>
                            <span class="toggle-slider"></span>
                        </label>
                        <label class="toggle-option">
                            <span>Sugg√©rer un vin</span>
                            <input type="checkbox" id="opt-wine">
                            <span class="toggle-slider"></span>
                        </label>
                        <label class="toggle-option">
                            <span>Utiliser mon frigo en priorit√©</span>
                            <input type="checkbox" id="opt-fridge">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <!-- Meals -->
                    <div class="menu-gen-section">
                        <h4>üç¥ Repas √† g√©n√©rer</h4>
                        <div class="meals-checkboxes">
                            <label class="meal-check"><input type="checkbox" name="meal" value="starter"><span>ü•ó Entr√©e</span></label>
                            <label class="meal-check"><input type="checkbox" name="meal" value="main" checked><span>üçΩÔ∏è Plat</span></label>
                            <label class="meal-check"><input type="checkbox" name="meal" value="dessert"><span>üç∞ Dessert</span></label>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-primary btn-full bounce-click" id="btn-generate-menu">‚ú® G√©n√©rer mon menu</button>
                </div>
            </div>
        </div>

        <!-- Modal: Menu Result -->
        <div class="modal" id="modal-menu-result">
            <div class="modal-backdrop" onclick="closeModal('modal-menu-result')"></div>
            <div class="modal-content glass-card modal-large">
                <div class="modal-header">
                    <h2>üçΩÔ∏è Ton menu du jour</h2>
                    <button class="btn-icon" onclick="closeModal('modal-menu-result')">‚úï</button>
                </div>
                <div class="modal-body scroll-y" id="menu-result-content"></div>
                <div class="modal-footer">
                    <button class="btn btn-secondary bounce-click" onclick="openModal('modal-menu-gen')">üîÑ R√©g√©n√©rer</button>
                    <button class="btn btn-primary bounce-click" id="btn-start-cooking-menu">üç≥ Cuisiner</button>
                </div>
            </div>
        </div>

        <!-- Modal: Fridge -->
        <div class="modal" id="modal-fridge">
            <div class="modal-backdrop" onclick="closeModal('modal-fridge')"></div>
            <div class="modal-content glass-card">
                <div class="modal-header">
                    <h2>üßä Mon Frigo</h2>
                    <button class="btn-icon" onclick="closeModal('modal-fridge')">‚úï</button>
                </div>
                <div class="modal-body scroll-y">
                    <div class="fridge-add">
                        <input type="text" id="fridge-input" placeholder="Ajouter un ingr√©dient...">
                        <button class="btn btn-primary" id="btn-add-fridge">+</button>
                    </div>
                    <div id="fridge-suggestions" class="fridge-suggestions"></div>
                    <div id="fridge-list" class="fridge-list"></div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-primary btn-full bounce-click" id="btn-fridge-recipes">üç≥ Voir les recettes possibles</button>
                </div>
            </div>
        </div>

        <!-- Modal: Shopping -->
        <div class="modal" id="modal-shopping">
            <div class="modal-backdrop" onclick="closeModal('modal-shopping')"></div>
            <div class="modal-content glass-card">
                <div class="modal-header">
                    <h2>üõí Liste de courses</h2>
                    <button class="btn-icon" onclick="closeModal('modal-shopping')">‚úï</button>
                </div>
                <div class="modal-body scroll-y">
                    <div class="shopping-add">
                        <input type="text" id="shopping-input" placeholder="Ajouter un article...">
                        <button class="btn btn-primary" id="btn-add-shopping">+</button>
                    </div>
                    <div id="shopping-list" class="shopping-list"></div>
                </div>
                <div class="modal-footer cols-2">
                    <button class="btn btn-secondary bounce-click" id="btn-clear-shopping">üóëÔ∏è Vider</button>
                    <button class="btn btn-primary bounce-click" id="btn-share-shopping">üì§ Partager</button>
                </div>
            </div>
        </div>

        <!-- Modal: Favorites -->
        <div class="modal" id="modal-favorites">
            <div class="modal-backdrop" onclick="closeModal('modal-favorites')"></div>
            <div class="modal-content glass-card modal-large">
                <div class="modal-header">
                    <h2>‚ù§Ô∏è Mes favoris</h2>
                    <button class="btn-icon" onclick="closeModal('modal-favorites')">‚úï</button>
                </div>
                <div class="modal-body scroll-y" id="favorites-list"></div>
            </div>
        </div>

        <!-- Modal: Settings -->
        <div class="modal" id="modal-settings">
            <div class="modal-backdrop" onclick="closeModal('modal-settings')"></div>
            <div class="modal-content glass-card modal-large">
                <div class="modal-header">
                    <h2>‚öôÔ∏è Param√®tres</h2>
                    <button class="btn-icon" onclick="closeModal('modal-settings')">‚úï</button>
                </div>
                <div class="modal-body scroll-y">
                    <!-- Profile Section -->
                    <div class="settings-section">
                        <h4>üë§ Profil</h4>
                        <div class="input-group">
                            <label>Pseudo</label>
                            <input type="text" id="settings-username" placeholder="Ton pseudo">
                        </div>
                        <div class="input-group">
                            <label>Email</label>
                            <input type="email" id="settings-email" placeholder="Ton email">
                        </div>
                    </div>

                    <!-- Diet Section -->
                    <div class="settings-section">
                        <h4>üçΩÔ∏è R√©gime alimentaire</h4>
                        <select id="settings-diet" class="select-field">
                            <option value="omnivore">Omnivore</option>
                            <option value="vegetarian">V√©g√©tarien</option>
                            <option value="vegan">V√©gan</option>
                            <option value="flexitarian">Flexitarien</option>
                            <option value="pescatarian">Pesc√©tarien</option>
                            <option value="keto">Keto</option>
                            <option value="paleo">Pal√©o</option>
                        </select>
                    </div>

                    <!-- Allergies Section -->
                    <div class="settings-section">
                        <h4>‚ö†Ô∏è Allergies</h4>
                        <div class="settings-chips" id="settings-allergies">
                            <label class="pref-chip"><input type="checkbox" name="settings-allergy" value="gluten"><span>Gluten</span></label>
                            <label class="pref-chip"><input type="checkbox" name="settings-allergy" value="lactose"><span>Lactose</span></label>
                            <label class="pref-chip"><input type="checkbox" name="settings-allergy" value="nuts"><span>Fruits √† coque</span></label>
                            <label class="pref-chip"><input type="checkbox" name="settings-allergy" value="eggs"><span>≈íufs</span></label>
                            <label class="pref-chip"><input type="checkbox" name="settings-allergy" value="seafood"><span>Fruits de mer</span></label>
                            <label class="pref-chip"><input type="checkbox" name="settings-allergy" value="soy"><span>Soja</span></label>
                        </div>
                    </div>

                    <!-- Notifications -->
                    <div class="settings-section">
                        <h4>üîî Notifications</h4>
                        <label class="toggle-option">
                            <span>Rappel quotidien</span>
                            <input type="checkbox" id="settings-notif-daily" checked>
                            <span class="toggle-slider"></span>
                        </label>
                        <label class="toggle-option">
                            <span>Rappel de streak</span>
                            <input type="checkbox" id="settings-notif-streak" checked>
                            <span class="toggle-slider"></span>
                        </label>
                        <label class="toggle-option">
                            <span>Nouvelles recettes</span>
                            <input type="checkbox" id="settings-notif-recipes">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <!-- App -->
                    <div class="settings-section">
                        <h4>üì± Application</h4>
                        <label class="toggle-option">
                            <span>Mode sombre</span>
                            <input type="checkbox" id="settings-dark-mode" checked disabled>
                            <span class="toggle-slider"></span>
                        </label>
                        <label class="toggle-option">
                            <span>Sons</span>
                            <input type="checkbox" id="settings-sounds">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <!-- Danger Zone -->
                    <div class="settings-section danger-zone">
                        <h4>‚ö†Ô∏è Zone danger</h4>
                        <button class="btn btn-danger btn-full" id="btn-delete-account">Supprimer mon compte</button>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-primary btn-full bounce-click" id="btn-save-settings">üíæ Sauvegarder</button>
                </div>
            </div>
        </div>

        <!-- Modal: Recipe Detail -->
        <div class="modal" id="modal-recipe">
            <div class="modal-backdrop" onclick="closeModal('modal-recipe')"></div>
            <div class="modal-content glass-card modal-fullscreen">
                <div class="recipe-hero" id="recipe-hero">
                    <button class="btn-icon recipe-close" onclick="closeModal('modal-recipe')">‚úï</button>
                    <button class="btn-icon recipe-fav" id="recipe-fav-btn">ü§ç</button>
                </div>
                <div class="recipe-details scroll-y">
                    <div class="recipe-header">
                        <h1 id="recipe-title">Titre recette</h1>
                        <div class="recipe-meta">
                            <span id="recipe-time">‚è±Ô∏è 30min</span>
                            <span id="recipe-cal">üî• 450kcal</span>
                            <span id="recipe-cost">üí∞ ‚Ç¨‚Ç¨</span>
                            <span id="recipe-difficulty">üë®‚Äçüç≥ Facile</span>
                        </div>
                    </div>
                    
                    <div class="recipe-section">
                        <h3>üìù Ingr√©dients</h3>
                        <ul id="recipe-ingredients" class="ingredients-list"></ul>
                    </div>

                    <div class="recipe-section">
                        <h3>üç≥ Pr√©paration</h3>
                        <ol id="recipe-steps" class="steps-list"></ol>
                    </div>

                    <div class="recipe-section" id="recipe-wine-section" style="display: none;">
                        <h3>üç∑ Accord vin</h3>
                        <p id="recipe-wine"></p>
                    </div>

                    <div class="recipe-actions">
                        <button class="btn btn-secondary bounce-click" id="btn-add-to-shopping">üõí Ajouter aux courses</button>
                        <button class="btn btn-primary bounce-click" id="btn-start-recipe">üç≥ Cuisiner</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal: Meal Prep -->
        <div class="modal" id="modal-mealprep">
            <div class="modal-backdrop" onclick="closeModal('modal-mealprep')"></div>
            <div class="modal-content glass-card modal-large">
                <div class="modal-header">
                    <h2>üìÖ Meal Prep Semaine</h2>
                    <button class="btn-icon" onclick="closeModal('modal-mealprep')">‚úï</button>
                </div>
                <div class="modal-body scroll-y">
                    <div class="mealprep-options">
                        <div class="menu-gen-section">
                            <h4>üìÜ Nombre de jours</h4>
                            <div class="option-row">
                                <label class="option-card"><input type="radio" name="mealprep-days" value="5" checked><span>5</span><small>Semaine</small></label>
                                <label class="option-card"><input type="radio" name="mealprep-days" value="7"><span>7</span><small>Compl√®te</small></label>
                            </div>
                        </div>
                        <div class="menu-gen-section">
                            <h4>üç¥ Repas</h4>
                            <div class="meals-checkboxes">
                                <label class="meal-check"><input type="checkbox" name="mealprep-meal" value="breakfast"><span>ü•ê Petit-d√©j</span></label>
                                <label class="meal-check"><input type="checkbox" name="mealprep-meal" value="lunch" checked><span>üçΩÔ∏è D√©jeuner</span></label>
                                <label class="meal-check"><input type="checkbox" name="mealprep-meal" value="dinner" checked><span>üåô D√Æner</span></label>
                            </div>
                        </div>
                    </div>
                    <div id="mealprep-result"></div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-primary btn-full bounce-click" id="btn-generate-mealprep">‚ú® G√©n√©rer ma semaine</button>
                </div>
            </div>
        </div>

        <!-- Level Up Overlay -->
        <div class="levelup-overlay" id="levelup-overlay">
            <div class="levelup-card">
                <div class="levelup-anim">üéâ</div>
                <h2>NIVEAU SUP√âRIEUR !</h2>
                <p>Tu es maintenant niveau <span id="new-level">2</span></p>
                <button class="btn btn-primary btn-full bounce-click" id="levelup-close">G√©nial !</button>
            </div>
        </div>

        <!-- XP Popup -->
        <div class="xp-popup" id="xp-popup">
            <span id="xp-popup-amount">+25 XP</span>
        </div>

        <!-- Toast Container -->
        <div id="toast-container"></div>

        <!-- Navigation Bar -->
        <nav class="nav-bar glass-nav" id="main-nav">
            <button class="nav-btn active" data-target="home">
                <span class="nav-icon">üè†</span>
                <span class="nav-label">Accueil</span>
            </button>
            <button class="nav-btn" data-target="explore">
                <span class="nav-icon">üîç</span>
                <span class="nav-label">Explorer</span>
            </button>
            <button class="nav-btn fab-btn bounce-click" id="nav-cook">
                <span>üç≥</span>
            </button>
            <button class="nav-btn" data-target="social">
                <span class="nav-icon">üèÜ</span>
                <span class="nav-label">Ligues</span>
            </button>
            <button class="nav-btn" data-target="profile">
                <span class="nav-icon">üë§</span>
                <span class="nav-label">Profil</span>
            </button>
        </nav>
    </div>

    <script src="app.js"></script>
</body>
</html>
