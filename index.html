<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Yumr - Swipe. Cook. Enjoy.</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <meta name="theme-color" content="#050507">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <link rel="manifest" href="manifest.json">
</head>
<body>
    <div id="app">
        <!-- SPLASH -->
        <div class="screen active" id="splash">
            <div class="splash-glow"></div>
            <div class="splash-glow"></div>
            <div class="splash-content">
                <div class="splash-logo">ğŸ½ï¸</div>
                <h1>Yumr</h1>
                <p>Swipe. Cook. Enjoy.</p>
                <div class="splash-loader"><div class="loader-fill"></div></div>
            </div>
        </div>

        <!-- ONBOARDING -->
        <div class="screen" id="onboarding">
            <div class="ob-slides">
                <div class="ob-slide active">
                    <div class="ob-visual">
                        <div class="ob-card-demo"></div>
                        <span class="ob-swipe">ğŸ‘†</span>
                    </div>
                    <h1>Swipe tes plats</h1>
                    <p>Dis-nous ce que tu aimes en swipant. Plus tu swipes, plus on te connaÃ®t !</p>
                </div>
                <div class="ob-slide">
                    <div class="ob-visual">
                        <div class="ob-icons">
                            <span>ğŸ¥—</span><span>ğŸ</span><span>ğŸ°</span>
                            <span>ğŸ¥©</span><span>ğŸ£</span><span>ğŸ¥˜</span>
                        </div>
                    </div>
                    <h1>Menus personnalisÃ©s</h1>
                    <p>Chaque jour, des recettes adaptÃ©es Ã  tes goÃ»ts et ton frigo.</p>
                </div>
                <div class="ob-slide">
                    <div class="ob-visual">
                        <div class="ob-trophy">ğŸ†</div>
                        <span class="ob-xp">+50 XP</span>
                    </div>
                    <h1>Gagne des XP</h1>
                    <p>Cuisine, partage, progresse dans les ligues et dÃ©bloque des badges !</p>
                </div>
            </div>
            <div class="ob-dots">
                <span class="dot active"></span>
                <span class="dot"></span>
                <span class="dot"></span>
            </div>
            <div class="ob-actions">
                <button class="btn btn-primary btn-full" id="ob-next">Continuer</button>
                <button class="btn btn-glass btn-full" id="ob-login">J'ai dÃ©jÃ  un compte</button>
            </div>
        </div>

        <!-- AUTH -->
        <div class="screen" id="auth">
            <button class="back-btn" id="auth-back">â†</button>
            <div class="auth-box">
                <div class="auth-logo">ğŸ½ï¸</div>
                <h1 id="auth-title">Connexion</h1>
                <form id="auth-form">
                    <div class="field" id="field-username">
                        <label>Pseudo</label>
                        <input type="text" id="in-username" placeholder="Ton pseudo">
                    </div>
                    <div class="field">
                        <label>Email</label>
                        <input type="email" id="in-email" placeholder="ton@email.com">
                    </div>
                    <div class="field">
                        <label>Mot de passe</label>
                        <input type="password" id="in-pass" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
                    </div>
                    <p class="auth-error" id="auth-error"></p>
                    <button type="submit" class="btn btn-primary btn-full" id="auth-submit">Se connecter</button>
                </form>
                <p class="auth-switch">
                    <span id="auth-switch-text">Pas encore de compte ?</span>
                    <button id="auth-toggle">S'inscrire</button>
                </p>
            </div>
        </div>

        <!-- SETUP (PrÃ©fÃ©rences initiales) -->
        <div class="screen" id="setup">
            <div class="setup-box">
                <div class="setup-steps">
                    <span class="step active">1</span>
                    <span class="step-line"></span>
                    <span class="step">2</span>
                    <span class="step-line"></span>
                    <span class="step">3</span>
                </div>

                <!-- Step 1: RÃ©gime -->
                <div class="setup-page active" id="setup-1">
                    <span class="step-badge">Ã‰tape 1/3</span>
                    <h1>Ton rÃ©gime alimentaire</h1>
                    <div class="diet-grid">
                        <label class="diet-opt"><input type="radio" name="diet" value="omnivore" checked><div class="diet-card"><span>ğŸ–</span><span>Omnivore</span></div></label>
                        <label class="diet-opt"><input type="radio" name="diet" value="vegetarian"><div class="diet-card"><span>ğŸ¥¬</span><span>VÃ©gÃ©tarien</span></div></label>
                        <label class="diet-opt"><input type="radio" name="diet" value="vegan"><div class="diet-card"><span>ğŸŒ±</span><span>VÃ©gan</span></div></label>
                        <label class="diet-opt"><input type="radio" name="diet" value="flexitarian"><div class="diet-card"><span>ğŸŸ</span><span>Flexitarien</span></div></label>
                    </div>
                    <h3>Allergies / IntolÃ©rances</h3>
                    <div class="allergy-wrap">
                        <label class="allergy"><input type="checkbox" name="allergy" value="gluten"><span>ğŸŒ¾ Gluten</span></label>
                        <label class="allergy"><input type="checkbox" name="allergy" value="lactose"><span>ğŸ¥› Lactose</span></label>
                        <label class="allergy"><input type="checkbox" name="allergy" value="nuts"><span>ğŸ¥œ Fruits Ã  coque</span></label>
                        <label class="allergy"><input type="checkbox" name="allergy" value="seafood"><span>ğŸ¦ Fruits de mer</span></label>
                        <label class="allergy"><input type="checkbox" name="allergy" value="eggs"><span>ğŸ¥š Å’ufs</span></label>
                        <label class="allergy"><input type="checkbox" name="allergy" value="soy"><span>ğŸ«˜ Soja</span></label>
                    </div>
                    <div class="setup-actions">
                        <span></span>
                        <button class="btn btn-primary" id="setup-next-1">Suivant â†’</button>
                    </div>
                </div>

                <!-- Step 2: Objectifs -->
                <div class="setup-page" id="setup-2">
                    <span class="step-badge">Ã‰tape 2/3</span>
                    <h1>Ton objectif</h1>
                    <div class="goal-list">
                        <label class="goal-opt"><input type="radio" name="goal" value="lose"><div class="goal-card"><span>âš–ï¸</span><div><strong>Perdre du poids</strong><p>Recettes lÃ©gÃ¨res et Ã©quilibrÃ©es</p></div></div></label>
                        <label class="goal-opt"><input type="radio" name="goal" value="maintain" checked><div class="goal-card"><span>ğŸ’ª</span><div><strong>Maintenir mon poids</strong><p>Ã‰quilibre parfait</p></div></div></label>
                        <label class="goal-opt"><input type="radio" name="goal" value="gain"><div class="goal-card"><span>ğŸ‹ï¸</span><div><strong>Prendre du muscle</strong><p>Riche en protÃ©ines</p></div></div></label>
                        <label class="goal-opt"><input type="radio" name="goal" value="health"><div class="goal-card"><span>â¤ï¸</span><div><strong>Manger plus sain</strong><p>Nutriments et vitamines</p></div></div></label>
                    </div>
                    <div class="setup-actions">
                        <button class="btn btn-glass" id="setup-back-2">â† Retour</button>
                        <button class="btn btn-primary" id="setup-next-2">Suivant â†’</button>
                    </div>
                </div>

                <!-- Step 3: Aliments non aimÃ©s -->
                <div class="setup-page" id="setup-3">
                    <span class="step-badge">Ã‰tape 3/3</span>
                    <h1>Des aliments que tu n'aimes pas ?</h1>
                    <p class="setup-subtitle">SÃ©lectionne ce que tu veux Ã©viter</p>
                    
                    <h3>ğŸ¥¬ LÃ©gumes</h3>
                    <div class="dislike-wrap" id="dislike-veggies">
                        <label class="dislike"><input type="checkbox" value="brocoli"><span>Brocoli</span></label>
                        <label class="dislike"><input type="checkbox" value="choux"><span>Choux</span></label>
                        <label class="dislike"><input type="checkbox" value="epinards"><span>Ã‰pinards</span></label>
                        <label class="dislike"><input type="checkbox" value="aubergine"><span>Aubergine</span></label>
                        <label class="dislike"><input type="checkbox" value="poivron"><span>Poivron</span></label>
                        <label class="dislike"><input type="checkbox" value="champignon"><span>Champignon</span></label>
                        <label class="dislike"><input type="checkbox" value="oignon"><span>Oignon</span></label>
                        <label class="dislike"><input type="checkbox" value="ail"><span>Ail</span></label>
                    </div>
                    
                    <h3>ğŸ Fruits</h3>
                    <div class="dislike-wrap" id="dislike-fruits">
                        <label class="dislike"><input type="checkbox" value="banane"><span>Banane</span></label>
                        <label class="dislike"><input type="checkbox" value="ananas"><span>Ananas</span></label>
                        <label class="dislike"><input type="checkbox" value="kiwi"><span>Kiwi</span></label>
                        <label class="dislike"><input type="checkbox" value="melon"><span>Melon</span></label>
                        <label class="dislike"><input type="checkbox" value="pamplemousse"><span>Pamplemousse</span></label>
                    </div>

                    <h3>ğŸ¥© ProtÃ©ines</h3>
                    <div class="dislike-wrap" id="dislike-proteins">
                        <label class="dislike"><input type="checkbox" value="foie"><span>Foie</span></label>
                        <label class="dislike"><input type="checkbox" value="rognons"><span>Rognons</span></label>
                        <label class="dislike"><input type="checkbox" value="boudin"><span>Boudin</span></label>
                        <label class="dislike"><input type="checkbox" value="tripes"><span>Tripes</span></label>
                        <label class="dislike"><input type="checkbox" value="huitres"><span>HuÃ®tres</span></label>
                    </div>

                    <div class="setup-actions">
                        <button class="btn btn-glass" id="setup-back-3">â† Retour</button>
                        <button class="btn btn-primary" id="setup-finish">C'est parti ! ğŸš€</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- QUIZ (Taste Profile) -->
        <div class="screen" id="quiz">
            <div class="quiz-header">
                <button class="quiz-close" id="quiz-close">âœ•</button>
                <div class="quiz-prog"><div class="quiz-prog-fill" id="quiz-prog-fill"></div></div>
                <span class="quiz-count" id="quiz-count">1/20</span>
                <div class="quiz-streak" id="quiz-streak">ğŸ”¥ <span>0</span></div>
            </div>
            <div class="quiz-area">
                <div class="quiz-card" id="quiz-card">
                    <div class="card-img" id="card-img"></div>
                    <div class="card-body">
                        <span class="card-emoji" id="card-emoji">ğŸ•</span>
                        <h2 id="card-q">Pizza Margherita</h2>
                        <p class="card-desc" id="card-desc">Tomate, mozzarella, basilic frais</p>
                    </div>
                    <div class="overlay nope">NOPE</div>
                    <div class="overlay love">LOVE</div>
                </div>
            </div>
            <div class="quiz-btns">
                <button class="qbtn nope" id="btn-nope">ğŸ‘</button>
                <button class="qbtn love" id="btn-love">ğŸ’š</button>
            </div>
            <p class="quiz-hint">Swipe ou appuie</p>
        </div>

        <!-- RESULT -->
        <div class="screen" id="result">
            <div class="result-confetti" id="confetti"></div>
            <div class="result-box">
                <span class="result-badge">ğŸ‰ Profil culinaire crÃ©Ã© !</span>
                <div class="result-profile glass-card">
                    <div class="profile-glow"></div>
                    <span class="profile-emoji" id="res-emoji">ğŸ</span>
                    <h1 id="res-title">L'Italien</h1>
                    <p id="res-desc">Tu adores les saveurs mÃ©diterranÃ©ennes</p>
                    <div class="profile-tags" id="res-tags"></div>
                </div>
                <div class="result-xp"><span>âœ¨</span><span>+100 XP gagnÃ©s !</span></div>
                <button class="btn btn-primary btn-full" id="res-continue">CrÃ©er mon compte</button>
                <button class="btn btn-glass btn-full" id="res-skip">Continuer en invitÃ©</button>
            </div>
        </div>

        <!-- MAIN APP -->
        <div class="screen" id="main">
            <header class="header">
                <div class="h-left">
                    <span>ğŸ½ï¸</span>
                    <span>Yumr</span>
                </div>
                <div class="h-right">
                    <button class="h-streak" id="h-streak-btn">ğŸ”¥ <span id="h-streak">1</span></button>
                    <button class="h-xp" id="h-xp-btn">â­ <span id="h-xp">0</span></button>
                    <button class="h-notif" id="h-notif-btn">ğŸ””<span class="notif-dot" id="notif-dot"></span></button>
                </div>
            </header>

            <div class="main-scroll">
                <!-- HOME TAB -->
                <div class="tab active" id="tab-home">
                    <div class="greeting">
                        <h1>Salut <span id="u-name">Chef</span> ! ğŸ‘‹</h1>
                        <p>Qu'est-ce qu'on cuisine aujourd'hui ?</p>
                    </div>

                    <div class="daily glass-card" id="daily-card">
                        <div class="daily-head">
                            <div class="daily-info">
                                <span>ğŸ“…</span>
                                <div>
                                    <h3>Menu du jour</h3>
                                    <p>PersonnalisÃ© pour toi</p>
                                </div>
                            </div>
                            <button class="btn btn-primary btn-sm" id="btn-gen-menu">GÃ©nÃ©rer</button>
                        </div>
                        <div class="daily-preview" id="daily-preview">
                            <p class="daily-empty">Clique sur GÃ©nÃ©rer pour crÃ©er ton menu personnalisÃ© !</p>
                        </div>
                    </div>

                    <div class="quick-grid">
                        <button class="quick" data-modal="m-fridge">
                            <span>ğŸ§Š</span>
                            <span>Mon Frigo</span>
                            <span class="qbadge" id="fridge-count">0</span>
                        </button>
                        <button class="quick" data-modal="m-shopping">
                            <span>ğŸ›’</span>
                            <span>Courses</span>
                        </button>
                        <button class="quick" data-modal="m-prep">
                            <span>ğŸ“†</span>
                            <span>Meal Prep</span>
                            <span class="pro">PRO</span>
                        </button>
                        <button class="quick" data-modal="m-coach">
                            <span>ğŸ¤–</span>
                            <span>Coach IA</span>
                            <span class="pro">PRO</span>
                        </button>
                        <button class="quick" data-modal="m-resto">
                            <span>ğŸ´</span>
                            <span>Mode Resto</span>
                            <span class="pro">PRO</span>
                        </button>
                        <button class="quick" data-modal="m-challenges">
                            <span>ğŸ¯</span>
                            <span>DÃ©fis</span>
                        </button>
                    </div>

                    <div class="challenge glass-card">
                        <div class="ch-head">
                            <span class="ch-tag">ğŸ”¥ DÃ©fi du jour</span>
                            <span class="ch-timer">23h restantes</span>
                        </div>
                        <h3>Cuisine un plat vÃ©gÃ©tarien</h3>
                        <p>RÃ©compense : +75 XP et badge "Green Chef"</p>
                        <div class="ch-foot">
                            <div class="ch-avatars">
                                <img src="https://i.pravatar.cc/32?img=1" alt="">
                                <img src="https://i.pravatar.cc/32?img=2" alt="">
                                <img src="https://i.pravatar.cc/32?img=3" alt="">
                                <span>+127 participants</span>
                            </div>
                            <button class="btn btn-sm btn-outline">Participer</button>
                        </div>
                    </div>

                    <div class="stats-section">
                        <h3>ğŸ“Š Tes stats</h3>
                        <div class="stats-row">
                            <div class="stat"><strong id="s-level">1</strong><span>Niveau</span></div>
                            <div class="stat"><strong id="s-recipes">0</strong><span>Recettes</span></div>
                            <div class="stat"><strong id="s-streak">1</strong><span>Streak</span></div>
                            <div class="stat clickable" data-modal="m-badges"><strong id="s-badges">0</strong><span>Badges</span></div>
                        </div>
                    </div>
                </div>

                <!-- EXPLORE TAB -->
                <div class="tab" id="tab-explore">
                    <h1>Explorer ğŸ”</h1>
                    <div class="search">
                        <span>ğŸ”</span>
                        <input type="text" placeholder="Rechercher une recette..." id="search-in">
                    </div>
                    <div class="explore-tabs">
                        <button class="etab active" data-filter="all">Tout</button>
                        <button class="etab" data-filter="saved">â¤ï¸ Favoris</button>
                        <button class="etab" data-filter="trending">ğŸ”¥ Tendances</button>
                    </div>
                    <div class="filters" id="filters">
                        <button class="filter active" data-cat="all">Tout</button>
                        <button class="filter" data-cat="starter">ğŸ¥— EntrÃ©es</button>
                        <button class="filter" data-cat="main">ğŸ Plats</button>
                        <button class="filter" data-cat="dessert">ğŸ° Desserts</button>
                        <button class="filter" data-cat="snack">ğŸ¥¨ Snacks</button>
                        <button class="filter" data-cat="drink">ğŸ¹ Boissons</button>
                    </div>
                    <div class="recipes" id="recipes"></div>
                </div>

                <!-- POST TAB -->
                <div class="tab" id="tab-post">
                    <h1>Partager ğŸ“¸</h1>
                    <div class="post-type-tabs">
                        <button class="ptype active" data-type="photo">ğŸ“· Photo</button>
                        <button class="ptype" data-type="recipe">ğŸ“ Recette</button>
                        <button class="ptype" data-type="text">ğŸ’¬ Texte</button>
                    </div>
                    
                    <div class="upload" id="upload-zone">
                        <input type="file" id="post-file" accept="image/*" hidden>
                        <div class="upload-inner">
                            <span>ğŸ“·</span>
                            <p>Ajoute une photo de ton plat</p>
                        </div>
                        <img id="post-img" alt="">
                    </div>

                    <div class="post-form">
                        <textarea id="post-caption" placeholder="DÃ©cris ton plat, partage ta recette..." rows="4"></textarea>
                        <input type="text" id="post-recipe-name" class="input-field hidden" placeholder="Nom de la recette">
                        <div class="post-tags">
                            <button type="button">#healthy</button>
                            <button type="button">#homemade</button>
                            <button type="button">#quickmeal</button>
                            <button type="button">#dessert</button>
                        </div>
                        <button class="btn btn-primary btn-full" id="btn-post">
                            Publier <span class="xp-badge">+25 XP</span>
                        </button>
                    </div>
                </div>

                <!-- FEED TAB -->
                <div class="tab" id="tab-feed">
                    <h1>CommunautÃ© ğŸŒ</h1>
                    <div class="feed-tabs">
                        <button class="ftab active" data-feed="all">Pour toi</button>
                        <button class="ftab" data-feed="following">Abonnements</button>
                        <button class="ftab" data-feed="mine">Mes posts</button>
                    </div>
                    <div class="feed" id="feed"></div>
                </div>

                <!-- LEAGUES TAB -->
                <div class="tab" id="tab-leagues">
                    <h1>Ligues ğŸ†</h1>
                    <div class="league-current glass-card">
                        <span class="league-icon" id="league-icon">ğŸ¥‰</span>
                        <div class="league-info">
                            <strong id="league-name">Ligue Bronze</strong>
                            <span id="league-rank">Rang #45 / 100</span>
                        </div>
                        <div class="league-timer">
                            <span>Fin dans</span>
                            <strong id="league-time">5j 12h</strong>
                        </div>
                    </div>
                    
                    <div class="league-progress">
                        <div class="lp-zones">
                            <div class="lp-zone promo">â†‘ Top 10</div>
                            <div class="lp-zone safe">Safe zone</div>
                            <div class="lp-zone demote">â†“ Bottom 10</div>
                        </div>
                        <div class="lp-bar">
                            <div class="lp-marker" id="lp-marker"></div>
                        </div>
                    </div>

                    <div class="league-tabs">
                        <button class="ltab active" data-lb="week">Cette semaine</button>
                        <button class="ltab" data-lb="all">Toutes les ligues</button>
                    </div>
                    
                    <div class="leaderboard" id="leaderboard"></div>
                    
                    <div class="league-all hidden" id="league-all">
                        <div class="tier" data-tier="master"><span>ğŸ’</span><span>Master</span><small>Top 1%</small></div>
                        <div class="tier" data-tier="diamond"><span>ğŸ’ </span><span>Diamant</span><small>Top 5%</small></div>
                        <div class="tier" data-tier="platinum"><span>ğŸ…</span><span>Platine</span><small>Top 15%</small></div>
                        <div class="tier" data-tier="gold"><span>ğŸ¥‡</span><span>Or</span><small>Top 30%</small></div>
                        <div class="tier" data-tier="silver"><span>ğŸ¥ˆ</span><span>Argent</span><small>Top 50%</small></div>
                        <div class="tier current" data-tier="bronze"><span>ğŸ¥‰</span><span>Bronze</span><small>Actuel</small></div>
                    </div>

                    <div class="rewards glass-card">
                        <h4>ğŸ RÃ©compenses de fin de semaine</h4>
                        <div class="rew-row"><span>ğŸ¥‡ 1Ã¨re place</span><span>+500 XP</span></div>
                        <div class="rew-row"><span>ğŸ¥ˆ 2Ã¨me place</span><span>+300 XP</span></div>
                        <div class="rew-row"><span>ğŸ¥‰ 3Ã¨me place</span><span>+150 XP</span></div>
                        <div class="rew-row"><span>ğŸ“ˆ Promotion</span><span>+100 XP</span></div>
                    </div>
                </div>

                <!-- PROFILE TAB -->
                <div class="tab" id="tab-profile">
                    <div class="profile-hero">
                        <div class="profile-banner" id="profile-banner">
                            <button class="banner-edit" id="edit-banner">ğŸ“·</button>
                        </div>
                        <div class="profile-av-wrap">
                            <div class="profile-av">
                                <img src="https://i.pravatar.cc/96?img=33" alt="" id="profile-img">
                            </div>
                            <button class="av-edit" id="edit-avatar">ğŸ“·</button>
                            <span class="profile-lv" id="p-lv">1</span>
                        </div>
                        <h2 id="p-name">@chef</h2>
                        <div class="profile-type">
                            <span id="p-emoji">ğŸ½ï¸</span>
                            <span id="p-type">Foodie</span>
                        </div>
                        <div class="profile-featured-badges" id="featured-badges"></div>
                    </div>

                    <div class="profile-stats">
                        <div><strong id="ps-posts">0</strong><span>Posts</span></div>
                        <div><strong id="ps-followers">0</strong><span>AbonnÃ©s</span></div>
                        <div><strong id="ps-following">0</strong><span>Abonnements</span></div>
                        <div><strong id="ps-xp">0</strong><span>XP</span></div>
                    </div>

                    <div class="xp-bar-wrap glass-card">
                        <div class="xp-bar-head">
                            <span>Niveau <strong id="xp-lv">1</strong></span>
                            <span><span id="xp-cur">0</span> / <span id="xp-max">100</span> XP</span>
                        </div>
                        <div class="xp-bar"><div class="xp-fill" id="xp-fill"></div></div>
                    </div>

                    <div class="badges-section glass-card">
                        <div class="badges-head">
                            <h4>ğŸ… Badges (<span id="badge-count">0</span>)</h4>
                            <button class="link" data-modal="m-badges">Voir tout</button>
                        </div>
                        <div class="badges-scroll" id="badges-scroll"></div>
                    </div>

                    <div class="profile-menu">
                        <button class="pmenu" data-modal="m-prefs"><span>âš™ï¸</span><span>PrÃ©fÃ©rences alimentaires</span><span>â€º</span></button>
                        <button class="pmenu" data-modal="m-settings"><span>ğŸ”§</span><span>ParamÃ¨tres</span><span>â€º</span></button>
                        <button class="pmenu premium" data-modal="m-premium"><span>ğŸ‘‘</span><span>Passer Premium</span><span>â€º</span></button>
                        <button class="pmenu" data-modal="m-referral"><span>ğŸ</span><span>Parrainer un ami</span><span class="ref-badge">+100 XP</span></button>
                        <button class="pmenu" id="btn-share-profile"><span>ğŸ“¤</span><span>Partager mon profil</span><span>â€º</span></button>
                        <button class="pmenu danger" id="btn-logout"><span>ğŸšª</span><span>DÃ©connexion</span><span></span></button>
                    </div>
                </div>
            </div>

            <!-- NAV -->
            <nav class="nav">
                <button class="nav-btn active" data-tab="home"><span>ğŸ </span><span>Accueil</span></button>
                <button class="nav-btn" data-tab="explore"><span>ğŸ”</span><span>Explorer</span></button>
                <button class="nav-btn center" data-tab="post"><div class="nav-plus">+</div></button>
                <button class="nav-btn" data-tab="feed"><span>ğŸŒ</span><span>Feed</span></button>
                <button class="nav-btn" data-tab="profile"><span>ğŸ‘¤</span><span>Profil</span></button>
            </nav>
        </div>

        <!-- MODALS -->
        <!-- Streak Modal -->
        <div class="modal" id="m-streak">
            <div class="modal-bg" data-close="m-streak"></div>
            <div class="modal-sheet">
                <div class="modal-handle"></div>
                <div class="streak-modal-content">
                    <div class="streak-big">ğŸ”¥</div>
                    <h2><span id="streak-val">1</span> jour de streak !</h2>
                    <p>Continue chaque jour pour garder ta flamme</p>
                    <div class="streak-calendar" id="streak-calendar"></div>
                    <div class="streak-how">
                        <h3>Comment gagner des streaks ?</h3>
                        <ul>
                            <li>âœ… Cuisine une recette</li>
                            <li>âœ… Publie un post</li>
                            <li>âœ… Complete un dÃ©fi</li>
                            <li>âœ… Connecte-toi chaque jour</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- XP Modal -->
        <div class="modal" id="m-xp">
            <div class="modal-bg" data-close="m-xp"></div>
            <div class="modal-sheet">
                <div class="modal-handle"></div>
                <div class="xp-modal-content">
                    <div class="xp-big">â­</div>
                    <h2><span id="xp-total">0</span> XP</h2>
                    <p>Niveau <span id="xp-modal-lv">1</span></p>
                    <div class="xp-modal-bar"><div class="xp-modal-fill" id="xp-modal-fill"></div></div>
                    <div class="xp-how">
                        <h3>Comment gagner des XP ?</h3>
                        <div class="xp-ways">
                            <div class="xp-way"><span>ğŸ³</span><span>Cuisiner une recette</span><span>+50 XP</span></div>
                            <div class="xp-way"><span>ğŸ“¸</span><span>Publier un post</span><span>+25 XP</span></div>
                            <div class="xp-way"><span>ğŸ’š</span><span>Swiper 10 plats</span><span>+10 XP</span></div>
                            <div class="xp-way"><span>ğŸ¯</span><span>ComplÃ©ter un dÃ©fi</span><span>+75 XP</span></div>
                            <div class="xp-way"><span>ğŸ”¥</span><span>Streak de 7 jours</span><span>+100 XP</span></div>
                            <div class="xp-way"><span>ğŸ†</span><span>Monter de ligue</span><span>+200 XP</span></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Notifications Modal -->
        <div class="modal" id="m-notifs">
            <div class="modal-bg" data-close="m-notifs"></div>
            <div class="modal-sheet modal-tall">
                <div class="modal-handle"></div>
                <h2>ğŸ”” Notifications</h2>
                <div class="notifs-list" id="notifs-list"></div>
            </div>
        </div>

        <!-- Fridge Modal -->
        <div class="modal modal-full" id="m-fridge">
            <div class="modal-page">
                <div class="modal-top">
                    <button class="back-btn" data-close="m-fridge">â†</button>
                    <h2>ğŸ§Š Mon Frigo</h2>
                    <button class="btn btn-sm btn-primary" id="btn-add-item">+ Ajouter</button>
                </div>
                <div class="modal-scroll">
                    <div class="fridge-acts">
                        <button class="fridge-act" id="btn-snap-fridge">
                            <span>ğŸ“¸</span>
                            <span>Snap Frigo</span>
                            <span class="ai">IA</span>
                        </button>
                        <button class="fridge-act" id="btn-scan-ticket">
                            <span>ğŸ§¾</span>
                            <span>Scanner ticket</span>
                            <span class="ai">IA</span>
                        </button>
                    </div>
                    <div class="fridge-cats" id="fridge-cats">
                        <button class="fcat active" data-cat="all">Tout</button>
                        <button class="fcat" data-cat="fruits">ğŸ</button>
                        <button class="fcat" data-cat="veggies">ğŸ¥¬</button>
                        <button class="fcat" data-cat="meat">ğŸ¥©</button>
                        <button class="fcat" data-cat="dairy">ğŸ§€</button>
                        <button class="fcat" data-cat="other">ğŸ“¦</button>
                    </div>
                    <div class="fridge-list" id="fridge-list"></div>
                    <div class="fridge-exp" id="fridge-exp">
                        <h4>âš ï¸ BientÃ´t pÃ©rimÃ©</h4>
                        <div id="exp-list"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Shopping Modal -->
        <div class="modal modal-full" id="m-shopping">
            <div class="modal-page">
                <div class="modal-top">
                    <button class="back-btn" data-close="m-shopping">â†</button>
                    <h2>ğŸ›’ Liste de courses</h2>
                    <button class="btn btn-sm btn-glass" id="btn-clear-shop">Vider</button>
                </div>
                <div class="modal-scroll">
                    <div class="shop-summary">
                        <div><strong id="shop-items">0</strong><span>Articles</span></div>
                        <div><strong id="shop-cost">~0â‚¬</strong><span>EstimÃ©</span></div>
                    </div>
                    <div class="shop-list" id="shop-list"></div>
                    <button class="btn btn-primary btn-full" id="btn-add-shop">+ Ajouter un article</button>
                </div>
            </div>
        </div>

        <!-- Menu Quiz Modal -->
        <div class="modal modal-full" id="m-menu-quiz">
            <div class="modal-page">
                <div class="modal-top">
                    <button class="back-btn" data-close="m-menu-quiz">â†</button>
                    <h2>ğŸ½ï¸ Menu personnalisÃ©</h2>
                    <span id="mq-step">1/5</span>
                </div>
                <div class="modal-scroll">
                    <div class="menu-quiz" id="menu-quiz">
                        <!-- Questions gÃ©nÃ©rÃ©es dynamiquement -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Badges Modal -->
        <div class="modal modal-full" id="m-badges">
            <div class="modal-page">
                <div class="modal-top">
                    <button class="back-btn" data-close="m-badges">â†</button>
                    <h2>ğŸ… Badges</h2>
                    <span id="badges-unlocked">0/50</span>
                </div>
                <div class="modal-scroll">
                    <div class="badges-tabs">
                        <button class="btab active" data-cat="all">Tous</button>
                        <button class="btab" data-cat="cooking">ğŸ³ Cuisine</button>
                        <button class="btab" data-cat="social">ğŸŒ Social</button>
                        <button class="btab" data-cat="progress">ğŸ“ˆ Progression</button>
                        <button class="btab" data-cat="secret">ğŸ”® Secrets</button>
                    </div>
                    <div class="badges-grid" id="badges-grid"></div>
                </div>
            </div>
        </div>

        <!-- Preferences Modal -->
        <div class="modal modal-full" id="m-prefs">
            <div class="modal-page">
                <div class="modal-top">
                    <button class="back-btn" data-close="m-prefs">â†</button>
                    <h2>âš™ï¸ PrÃ©fÃ©rences</h2>
                    <button class="btn btn-sm btn-primary" id="btn-save-prefs">Sauver</button>
                </div>
                <div class="modal-scroll">
                    <div class="pref-section">
                        <h3>ğŸ½ï¸ RÃ©gime alimentaire</h3>
                        <div class="diet-grid" id="pref-diet"></div>
                    </div>
                    <div class="pref-section">
                        <h3>âš ï¸ Allergies</h3>
                        <div class="allergy-wrap" id="pref-allergies"></div>
                    </div>
                    <div class="pref-section">
                        <h3>ğŸ¯ Objectif</h3>
                        <div class="goal-list" id="pref-goals"></div>
                    </div>
                    <div class="pref-section">
                        <h3>ğŸš« Aliments exclus</h3>
                        <div class="excluded-list" id="pref-excluded"></div>
                        <button class="btn btn-glass btn-full" id="btn-edit-excluded">Modifier</button>
                    </div>
                    <div class="pref-section">
                        <h3>â±ï¸ Temps de cuisine max</h3>
                        <div class="time-slider">
                            <input type="range" min="15" max="120" value="45" id="pref-time">
                            <span id="pref-time-val">45 min</span>
                        </div>
                    </div>
                    <div class="pref-section">
                        <h3>ğŸ’° Budget</h3>
                        <div class="budget-opts">
                            <button class="bopt active" data-val="low">â‚¬ Ã‰conomique</button>
                            <button class="bopt" data-val="medium">â‚¬â‚¬ ModÃ©rÃ©</button>
                            <button class="bopt" data-val="high">â‚¬â‚¬â‚¬ Gourmand</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Settings Modal -->
        <div class="modal modal-full" id="m-settings">
            <div class="modal-page">
                <div class="modal-top">
                    <button class="back-btn" data-close="m-settings">â†</button>
                    <h2>ğŸ”§ ParamÃ¨tres</h2>
                    <span></span>
                </div>
                <div class="modal-scroll">
                    <div class="settings-section">
                        <h3>ğŸ‘¤ Compte</h3>
                        <div class="setting-item">
                            <span>Email</span>
                            <input type="email" id="set-email" class="input-field" placeholder="email@example.com">
                        </div>
                        <div class="setting-item">
                            <span>Pseudo</span>
                            <input type="text" id="set-username" class="input-field" placeholder="@pseudo">
                        </div>
                        <button class="btn btn-glass btn-full" id="btn-change-pass">Changer mot de passe</button>
                    </div>
                    <div class="settings-section">
                        <h3>ğŸ”” Notifications</h3>
                        <label class="toggle-row"><span>Notifications push</span><input type="checkbox" id="set-notif-push" checked><span class="toggle"></span></label>
                        <label class="toggle-row"><span>Rappel quotidien</span><input type="checkbox" id="set-notif-daily" checked><span class="toggle"></span></label>
                        <label class="toggle-row"><span>Nouveaux abonnÃ©s</span><input type="checkbox" id="set-notif-follow" checked><span class="toggle"></span></label>
                        <label class="toggle-row"><span>Likes et commentaires</span><input type="checkbox" id="set-notif-social"><span class="toggle"></span></label>
                    </div>
                    <div class="settings-section">
                        <h3>ğŸ¨ Apparence</h3>
                        <label class="toggle-row"><span>Mode sombre</span><input type="checkbox" id="set-dark" checked><span class="toggle"></span></label>
                        <label class="toggle-row"><span>Animations</span><input type="checkbox" id="set-anim" checked><span class="toggle"></span></label>
                    </div>
                    <div class="settings-section">
                        <h3>ğŸ”’ ConfidentialitÃ©</h3>
                        <label class="toggle-row"><span>Profil public</span><input type="checkbox" id="set-public" checked><span class="toggle"></span></label>
                        <label class="toggle-row"><span>Afficher mon activitÃ©</span><input type="checkbox" id="set-activity" checked><span class="toggle"></span></label>
                    </div>
                    <div class="settings-section">
                        <h3>ğŸ“± Application</h3>
                        <div class="setting-info"><span>Version</span><span>1.0.0</span></div>
                        <button class="btn btn-glass btn-full" id="btn-clear-cache">Vider le cache</button>
                        <button class="btn btn-glass btn-full" id="btn-export-data">Exporter mes donnÃ©es</button>
                    </div>
                    <div class="settings-section">
                        <button class="btn btn-danger btn-full" id="btn-delete-account">Supprimer mon compte</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Premium Modal -->
        <div class="modal modal-full" id="m-premium">
            <div class="modal-page premium-page">
                <div class="modal-top">
                    <button class="back-btn" data-close="m-premium">â†</button>
                    <h2>Yumr</h2>
                    <span class="top-pro">PRO</span>
                </div>
                <div class="prem-scroll">
                    <div class="prem-hero">
                        <span>ğŸ‘‘</span>
                        <h1>Yumr Premium</h1>
                        <p>DÃ©bloque toutes les fonctionnalitÃ©s</p>
                    </div>
                    <div class="prem-features">
                        <div class="prem-f"><span>ğŸ¤–</span><div><strong>Coach IA illimitÃ©</strong><span>Conseils nutritionnels personnalisÃ©s</span></div></div>
                        <div class="prem-f"><span>ğŸ“†</span><div><strong>Meal Prep avancÃ©</strong><span>Planifie ta semaine entiÃ¨re</span></div></div>
                        <div class="prem-f"><span>ğŸ´</span><div><strong>Mode Restaurant</strong><span>Trouve le plat parfait au resto</span></div></div>
                        <div class="prem-f"><span>ğŸ“Š</span><div><strong>Analytics dÃ©taillÃ©s</strong><span>Suis ta nutrition en dÃ©tail</span></div></div>
                        <div class="prem-f"><span>ğŸš«</span><div><strong>Sans publicitÃ©</strong><span>Une expÃ©rience pure</span></div></div>
                        <div class="prem-f"><span>â­</span><div><strong>XP bonus</strong><span>+50% d'XP sur toutes les actions</span></div></div>
                    </div>
                    <div class="prem-plans">
                        <div class="plan" data-plan="monthly">
                            <span>Mensuel</span>
                            <strong>4,99â‚¬</strong>
                            <small>/mois</small>
                        </div>
                        <div class="plan pop" data-plan="yearly">
                            <span class="plan-badge">-40%</span>
                            <span>Annuel</span>
                            <strong>2,99â‚¬</strong>
                            <small>/mois</small>
                            <span class="plan-sub">FacturÃ© 35,88â‚¬/an</span>
                        </div>
                    </div>
                    <button class="btn btn-primary btn-full" id="btn-subscribe">Commencer l'essai gratuit</button>
                    <p class="prem-note">7 jours d'essai gratuit, annule quand tu veux</p>
                </div>
            </div>
        </div>

        <!-- Referral Modal -->
        <div class="modal modal-full" id="m-referral">
            <div class="modal-page">
                <div class="modal-top">
                    <button class="back-btn" data-close="m-referral">â†</button>
                    <h2>ğŸ Parrainage</h2>
                    <span></span>
                </div>
                <div class="modal-scroll">
                    <div class="ref-hero">
                        <span>ğŸ</span>
                        <h2>Invite tes amis !</h2>
                        <p>Gagne 100 XP pour chaque ami qui rejoint Yumr</p>
                    </div>
                    <div class="ref-code glass-card">
                        <span>Ton code</span>
                        <strong id="ref-code">YUMR2024</strong>
                        <button class="btn btn-sm btn-primary" id="btn-copy-ref">Copier</button>
                    </div>
                    <div class="ref-stats">
                        <div><strong id="ref-invited">0</strong><span>InvitÃ©s</span></div>
                        <div><strong id="ref-xp">0</strong><span>XP gagnÃ©s</span></div>
                    </div>
                    <button class="btn btn-primary btn-full" id="btn-share-ref">ğŸ“¤ Partager mon lien</button>
                </div>
            </div>
        </div>

        <!-- Recipe Modal -->
        <div class="modal modal-full" id="m-recipe">
            <div class="modal-page recipe-page" id="recipe-page"></div>
        </div>

        <!-- Other modals (prep, coach, resto, challenges) -->
        <div class="modal modal-full" id="m-prep">
            <div class="modal-page">
                <div class="modal-top">
                    <button class="back-btn" data-close="m-prep">â†</button>
                    <h2>ğŸ“† Meal Prep</h2>
                    <span class="top-pro">PRO</span>
                </div>
                <div class="modal-scroll">
                    <div class="prep-intro">
                        <span>ğŸ“†</span>
                        <h3>Planifie ta semaine</h3>
                        <p>GÃ©nÃ¨re automatiquement tes menus pour toute la semaine avec liste de courses optimisÃ©e.</p>
                        <button class="btn btn-primary" id="btn-try-prep">Essayer Premium</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal modal-full" id="m-coach">
            <div class="modal-page">
                <div class="modal-top">
                    <button class="back-btn" data-close="m-coach">â†</button>
                    <h2>ğŸ¤– Coach IA</h2>
                    <span class="top-pro">PRO</span>
                </div>
                <div class="coach-chat" id="coach-chat">
                    <div class="coach-msg">
                        <div class="coach-av">ğŸ¤–</div>
                        <div class="coach-bubble">
                            <p>Salut ! Je suis ton coach nutrition. Comment puis-je t'aider ?</p>
                            <div class="coach-sugg">
                                <button>Que manger ce soir ?</button>
                                <button>Conseils pour maigrir</button>
                                <button>IdÃ©es healthy</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="coach-input">
                    <input type="text" placeholder="Pose ta question..." id="coach-in">
                    <button class="btn btn-primary btn-icon" id="btn-coach-send">â†’</button>
                </div>
            </div>
        </div>

        <div class="modal modal-full" id="m-resto">
            <div class="modal-page">
                <div class="modal-top">
                    <button class="back-btn" data-close="m-resto">â†</button>
                    <h2>ğŸ´ Mode Resto</h2>
                    <span class="top-pro">PRO</span>
                </div>
                <div class="modal-scroll">
                    <div class="resto-intro">
                        <span>ğŸ´</span>
                        <h3>Au restaurant</h3>
                        <p>Scanne le menu et on te recommande les plats parfaits selon tes goÃ»ts et objectifs.</p>
                        <button class="btn btn-primary" id="btn-try-resto">Essayer Premium</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal modal-full" id="m-challenges">
            <div class="modal-page">
                <div class="modal-top">
                    <button class="back-btn" data-close="m-challenges">â†</button>
                    <h2>ğŸ¯ DÃ©fis</h2>
                    <span></span>
                </div>
                <div class="modal-scroll">
                    <div class="challenges-list" id="challenges-list"></div>
                </div>
            </div>
        </div>

        <!-- Add Item Modal -->
        <div class="modal" id="m-add-item">
            <div class="modal-bg" data-close="m-add-item"></div>
            <div class="modal-sheet">
                <div class="modal-handle"></div>
                <h2>Ajouter un aliment</h2>
                <div class="add-item-form">
                    <input type="text" id="item-name" class="input-field" placeholder="Nom de l'aliment">
                    <input type="text" id="item-qty" class="input-field" placeholder="QuantitÃ© (ex: 500g, 2L)">
                    <select id="item-cat" class="input-field">
                        <option value="fruits">ğŸ Fruits</option>
                        <option value="veggies">ğŸ¥¬ LÃ©gumes</option>
                        <option value="meat">ğŸ¥© Viandes</option>
                        <option value="dairy">ğŸ§€ Produits laitiers</option>
                        <option value="other">ğŸ“¦ Autres</option>
                    </select>
                    <input type="date" id="item-exp" class="input-field">
                    <button class="btn btn-primary btn-full" id="btn-confirm-item">Ajouter</button>
                </div>
            </div>
        </div>

        <!-- Toasts -->
        <div class="toasts" id="toasts"></div>

        <!-- XP Popup -->
        <div class="xp-popup" id="xp-popup"><span>âœ¨</span><span id="xp-amount">+50 XP</span></div>

        <!-- Level Up -->
        <div class="levelup" id="levelup">
            <div class="levelup-box glass-card">
                <span>ğŸ‰</span>
                <h2>Niveau <span id="new-lv">2</span> !</h2>
                <p>Continue comme Ã§a !</p>
                <button class="btn btn-primary" id="close-lv">Super !</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
