/* ===== VARIABLES ===== */
:root {
    --bg-deep: #0a0a0b;
    --bg-card: rgba(18, 18, 22, 0.95);
    --bg-glass: rgba(255, 255, 255, 0.03);
    --accent-primary: #FF6B6B;
    --accent-secondary: #4ECDC4;
    --text-primary: #FFFFFF;
    --text-secondary: rgba(255, 255, 255, 0.6);
    --text-muted: rgba(255, 255, 255, 0.4);
    --success: #10B981;
    --error: #EF4444;
    --glass-border: rgba(255, 255, 255, 0.08);
    --gradient-primary: linear-gradient(135deg, #FF6B6B 0%, #FF8E53 100%);
    --ease-smooth: cubic-bezier(0.22, 1, 0.36, 1);
    --ease-bounce: cubic-bezier(0.34, 1.56, 0.64, 1);
    --safe-top: env(safe-area-inset-top);
    --safe-bottom: env(safe-area-inset-bottom);
    --radius-md: 16px;
    --radius-lg: 24px;
    --radius-xl: 32px;
}

/* ===== RESET ===== */
* { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
html, body { height: 100%; width: 100%; overflow: hidden; font-family: 'Inter', sans-serif; background: var(--bg-deep); color: var(--text-primary); -webkit-font-smoothing: antialiased; position: fixed; }
.app { height: 100%; width: 100%; position: relative; overflow: hidden; }

/* ===== AMBIENT ===== */
.ambient-bg { position: fixed; inset: 0; z-index: 0; pointer-events: none; }
.orb { position: absolute; border-radius: 50%; filter: blur(80px); }
.orb-1 { width: 60vmax; height: 60vmax; background: radial-gradient(circle, rgba(255,107,107,0.2) 0%, transparent 70%); top: -20vmax; right: -20vmax; animation: float1 20s ease-in-out infinite; }
.orb-2 { width: 50vmax; height: 50vmax; background: radial-gradient(circle, rgba(78,205,196,0.15) 0%, transparent 70%); bottom: -15vmax; left: -15vmax; animation: float2 25s ease-in-out infinite; }
@keyframes float1 { 0%, 100% { transform: translate(0, 0); } 50% { transform: translate(-30px, 30px); } }
@keyframes float2 { 0%, 100% { transform: translate(0, 0); } 50% { transform: translate(30px, -20px); } }

/* ===== TOAST ===== */
.toast { position: fixed; bottom: 100px; left: 50%; transform: translateX(-50%) translateY(100px); background: var(--bg-card); backdrop-filter: blur(20px); border: 1px solid var(--glass-border); padding: 14px 24px; border-radius: 30px; font-size: 14px; font-weight: 500; opacity: 0; transition: all 0.4s var(--ease-bounce); z-index: 1000; }
.toast.visible { opacity: 1; transform: translateX(-50%) translateY(0); }

/* ===== CONFETTI ===== */
.confetti-container { position: fixed; inset: 0; pointer-events: none; z-index: 1000; overflow: hidden; }
@keyframes confettiFall { 0% { opacity: 1; transform: translateY(-100%) rotate(0deg); } 100% { opacity: 0; transform: translateY(100vh) rotate(720deg); } }

/* ===== PAGES ===== */
.page { position: absolute; inset: 0; display: flex; flex-direction: column; align-items: center; justify-content: center; opacity: 0; visibility: hidden; transition: all 0.5s var(--ease-smooth); z-index: 10; transform: translateY(20px); padding: var(--safe-top) 0 var(--safe-bottom) 0; }
.page.active { opacity: 1; visibility: visible; transform: translateY(0); }
.page-content { width: 100%; max-width: 440px; padding: 30px 24px; display: flex; flex-direction: column; align-items: center; flex: 1; overflow-y: auto; -webkit-overflow-scrolling: touch; }
.page-content::-webkit-scrollbar { display: none; }

/* ===== HOME ===== */
.home-page .page-content { justify-content: center; }
.logo-section { text-align: center; margin-bottom: 50px; }
.logo { font-family: 'Playfair Display', serif; font-size: clamp(42px, 12vw, 60px); font-weight: 700; background: var(--gradient-primary); -webkit-background-clip: text; -webkit-text-fill-color: transparent; letter-spacing: -1px; position: relative; }
.logo::after { content: ''; position: absolute; bottom: -8px; left: 50%; transform: translateX(-50%); width: 60px; height: 3px; background: var(--gradient-primary); border-radius: 2px; }
.tagline { font-size: 13px; color: var(--text-secondary); letter-spacing: 3px; text-transform: uppercase; margin-top: 20px; }

.hero-visual { display: flex; justify-content: center; margin-bottom: 50px; }
.floating-cards { position: relative; width: 280px; height: 200px; }
.preview-card { position: absolute; width: 130px; height: 170px; border-radius: var(--radius-lg); background: var(--bg-card); border: 1px solid var(--glass-border); overflow: hidden; box-shadow: 0 20px 40px rgba(0,0,0,0.4); transition: all 0.5s; }
.preview-card:nth-child(1) { left: 0; top: 20px; transform: rotate(-12deg); z-index: 1; }
.preview-card:nth-child(2) { left: 50%; top: 0; transform: translateX(-50%); z-index: 3; }
.preview-card:nth-child(3) { right: 0; top: 20px; transform: rotate(12deg); z-index: 2; }
.preview-card:hover { transform: translateY(-10px) scale(1.05); z-index: 10; }
.preview-card-img { width: 100%; height: 90px; object-fit: cover; }
.preview-card-content { padding: 10px; text-align: center; }
.preview-card-emoji { font-size: 22px; }
.preview-card-question { font-size: 10px; color: var(--text-secondary); }

.cta-section { width: 100%; max-width: 320px; }
.login-link { text-align: center; margin-top: 20px; font-size: 14px; color: var(--text-secondary); }
.link { color: var(--accent-primary); font-weight: 600; cursor: pointer; }

.feature-grid { display: flex; justify-content: center; gap: 30px; margin-top: 40px; padding-top: 30px; border-top: 1px solid var(--glass-border); }
.feature-item { text-align: center; }
.feature-icon { width: 50px; height: 50px; border-radius: 16px; background: var(--bg-glass); border: 1px solid var(--glass-border); display: flex; align-items: center; justify-content: center; font-size: 22px; margin: 0 auto 8px; }
.feature-label { font-size: 10px; text-transform: uppercase; letter-spacing: 1px; color: var(--text-muted); }

/* ===== BUTTONS ===== */
.btn { border: none; cursor: pointer; font-family: 'Inter', sans-serif; transition: all 0.3s; -webkit-appearance: none; }
.btn:active { transform: scale(0.97); }
.btn-primary { width: 100%; padding: 18px 32px; border-radius: var(--radius-md); background: var(--gradient-primary); color: white; font-size: 16px; font-weight: 600; box-shadow: 0 10px 30px rgba(255,107,107,0.3); }
.btn-secondary { width: 100%; padding: 16px; border: 2px solid rgba(255,107,107,0.3); border-radius: var(--radius-md); background: transparent; color: var(--accent-primary); font-size: 15px; font-weight: 600; display: flex; align-items: center; justify-content: center; gap: 10px; }
.btn-icon { width: 44px; height: 44px; border-radius: 14px; background: var(--bg-glass); border: 1px solid var(--glass-border); color: var(--text-primary); font-size: 18px; display: flex; align-items: center; justify-content: center; }
.btn-round { width: 70px; height: 70px; border-radius: 50%; font-size: 28px; display: flex; align-items: center; justify-content: center; }
.btn-round.btn-success { background: rgba(16,185,129,0.1); border: 2px solid rgba(16,185,129,0.3); color: var(--success); }
.btn-round.btn-error { background: rgba(239,68,68,0.1); border: 2px solid rgba(239,68,68,0.3); color: var(--error); }

/* ===== SETUP PAGES ===== */
.setup-page .page-content { justify-content: flex-start; padding-top: calc(30px + var(--safe-top)); }
.setup-header { text-align: center; margin-bottom: 30px; }
.setup-step { font-size: 11px; font-weight: 700; color: var(--accent-primary); text-transform: uppercase; letter-spacing: 3px; margin-bottom: 12px; }
.setup-title { font-family: 'Playfair Display', serif; font-size: clamp(28px, 7vw, 36px); font-weight: 600; margin-bottom: 10px; }
.setup-subtitle { font-size: 14px; color: var(--text-secondary); max-width: 280px; margin: 0 auto; }
.setup-options { display: flex; flex-direction: column; gap: 12px; width: 100%; margin: 20px 0; }
.setup-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; width: 100%; margin: 20px 0; }
.setup-actions { width: 100%; margin-top: auto; padding-top: 20px; }
.skip-link, .back-link { text-align: center; margin-top: 16px; font-size: 14px; color: var(--text-secondary); cursor: pointer; }

/* ===== OPTION CARDS ===== */
.option-card { padding: 18px 20px; border-radius: var(--radius-md); background: var(--bg-card); border: 2px solid var(--glass-border); cursor: pointer; transition: all 0.3s; display: flex; align-items: center; justify-content: space-between; }
.option-card:active { transform: scale(0.98); }
.option-card.selected { border-color: var(--accent-primary); background: rgba(255,107,107,0.08); }
.option-card-left { display: flex; align-items: center; gap: 14px; }
.option-card-icon { font-size: 26px; }
.option-card-number { font-family: 'Playfair Display', serif; font-size: 32px; font-weight: 600; color: var(--accent-primary); }
.option-card-label { font-size: 15px; font-weight: 600; }
.option-card-desc { font-size: 12px; color: var(--text-secondary); margin-top: 2px; }
.option-card-check { width: 24px; height: 24px; border-radius: 50%; border: 2px solid var(--glass-border); display: flex; align-items: center; justify-content: center; flex-shrink: 0; }
.option-card.selected .option-card-check { background: var(--accent-primary); border-color: var(--accent-primary); }
.option-card.selected .option-card-check::after { content: '✓'; font-size: 14px; color: white; }
.option-card.multi .option-card-check { border-radius: 6px; }

.setup-grid .option-card { flex-direction: column; text-align: center; padding: 16px; position: relative; }
.setup-grid .option-card-left { flex-direction: column; gap: 6px; }
.setup-grid .option-card-check { position: absolute; top: 10px; right: 10px; width: 20px; height: 20px; }
.setup-grid .option-card-icon { font-size: 32px; }
.setup-grid .option-card-label { font-size: 13px; }

/* ===== STEPPER ===== */
.stepper { display: flex; align-items: center; gap: 24px; justify-content: center; }
.stepper-btn { width: 50px; height: 50px; border-radius: 50%; background: var(--bg-card); border: 2px solid var(--glass-border); color: var(--text-primary); font-size: 24px; cursor: pointer; }
.stepper-btn:active { transform: scale(0.9); background: rgba(255,107,107,0.1); }
.stepper-value { font-family: 'Playfair Display', serif; font-size: 48px; font-weight: 600; color: var(--accent-primary); min-width: 80px; text-align: center; }
.stepper-label { font-size: 14px; color: var(--text-secondary); text-align: center; }
.card { width: 100%; background: var(--bg-card); border: 1px solid var(--glass-border); border-radius: var(--radius-lg); padding: 24px; margin-top: 20px; }

/* ===== SWIPE ===== */
.swipe-page { padding: 0; }
.swipe-page .page-content { padding: 0; max-width: none; }
.swipe-header { width: 100%; display: flex; align-items: center; justify-content: space-between; padding: 16px 20px; padding-top: calc(16px + var(--safe-top)); }
.progress-container { flex: 1; max-width: 140px; margin: 0 16px; }
.progress-bar { height: 4px; background: rgba(255,255,255,0.1); border-radius: 10px; overflow: hidden; }
.progress-fill { height: 100%; background: var(--gradient-primary); border-radius: 10px; transition: width 0.5s; }
.progress-text { font-size: 11px; color: var(--text-secondary); text-align: center; margin-top: 6px; }
.streak-badge { display: flex; align-items: center; gap: 6px; padding: 8px 14px; background: rgba(255,107,107,0.1); border: 1px solid rgba(255,107,107,0.2); border-radius: 20px; font-size: 15px; font-weight: 700; color: var(--accent-primary); }
.animate-fire { animation: wiggle 0.4s ease-in-out infinite alternate; }
@keyframes wiggle { from { transform: rotate(-8deg); } to { transform: rotate(8deg); } }

.swipe-container { flex: 1; display: flex; align-items: center; justify-content: center; padding: 10px 20px; width: 100%; }
.card-stack { position: relative; width: 100%; max-width: 340px; height: min(480px, 55vh); }
.swipe-card { position: absolute; width: 100%; height: 100%; border-radius: var(--radius-xl); background: var(--bg-card); border: 1px solid var(--glass-border); overflow: hidden; cursor: grab; touch-action: pan-y; user-select: none; box-shadow: 0 25px 50px rgba(0,0,0,0.4); }
.swipe-card:active { cursor: grabbing; }
.swipe-card.behind-1 { z-index: 20; transform: scale(0.94) translateY(15px); opacity: 0.7; pointer-events: none; }
.swipe-card.behind-2 { z-index: 10; transform: scale(0.88) translateY(30px); opacity: 0.4; pointer-events: none; }
.card-image-container { position: relative; width: 100%; height: 55%; overflow: hidden; }
.card-image { width: 100%; height: 100%; object-fit: cover; pointer-events: none; }
.card-image-overlay { position: absolute; bottom: 0; left: 0; right: 0; height: 60%; background: linear-gradient(180deg, transparent 0%, var(--bg-card) 100%); }
.card-content { padding: 20px 24px; text-align: center; }
.badge { display: inline-flex; align-items: center; gap: 6px; padding: 6px 12px; border-radius: 20px; font-size: 10px; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; background: rgba(255,107,107,0.1); border: 1px solid rgba(255,107,107,0.2); color: var(--accent-primary); margin-bottom: 12px; }
.badge-dot { width: 5px; height: 5px; background: var(--accent-primary); border-radius: 50%; }
.card-question { font-family: 'Playfair Display', serif; font-size: clamp(22px, 6vw, 28px); font-weight: 500; }
.swipe-indicator { position: absolute; top: 40%; padding: 12px 24px; border-radius: 12px; font-size: 14px; font-weight: 800; letter-spacing: 2px; opacity: 0; z-index: 100; text-transform: uppercase; transition: all 0.2s; }
.swipe-indicator.like { right: 20px; background: var(--success); color: white; transform: rotate(12deg) scale(0.6); }
.swipe-indicator.nope { left: 20px; background: var(--error); color: white; transform: rotate(-12deg) scale(0.6); }
.swipe-indicator.visible { opacity: 1; transform: scale(1); }
.swipe-indicator.visible.like { transform: rotate(12deg) scale(1); }
.swipe-indicator.visible.nope { transform: rotate(-12deg) scale(1); }
.swipe-buttons { display: flex; justify-content: center; gap: 30px; padding: 15px 20px 30px; padding-bottom: calc(30px + var(--safe-bottom)); }

/* ===== RESULTS ===== */
.results-page .page-content { padding-top: calc(30px + var(--safe-top)); }
.results-header { text-align: center; margin-bottom: 24px; }
.results-emoji { font-size: 64px; margin-bottom: 16px; animation: bounce 0.6s var(--ease-bounce); }
@keyframes bounce { 0% { transform: scale(0); } 50% { transform: scale(1.2); } 100% { transform: scale(1); } }
.results-title { font-family: 'Playfair Display', serif; font-size: clamp(28px, 7vw, 36px); font-weight: 600; margin-bottom: 8px; }
.results-subtitle { font-size: 14px; color: var(--text-secondary); }
.profile-card { margin-bottom: 16px; }
.profile-type { font-size: 10px; color: var(--accent-primary); text-transform: uppercase; letter-spacing: 2px; margin-bottom: 8px; font-weight: 700; }
.profile-name { font-family: 'Playfair Display', serif; font-size: 24px; font-weight: 600; margin-bottom: 10px; }
.profile-desc { color: var(--text-secondary); line-height: 1.6; margin-bottom: 16px; font-size: 14px; }
.tags-container { display: flex; flex-wrap: wrap; gap: 8px; }
.tag { padding: 8px 14px; background: rgba(255,107,107,0.1); border: 1px solid rgba(255,107,107,0.2); border-radius: 20px; font-size: 12px; font-weight: 500; }
.card-title { font-family: 'Playfair Display', serif; font-size: 18px; font-weight: 600; margin-bottom: 16px; }
.menu-list { width: 100%; }
.menu-item { display: flex; align-items: center; gap: 14px; padding: 14px 0; border-bottom: 1px solid var(--glass-border); }
.menu-item:last-child { border-bottom: none; }
.menu-item-emoji { font-size: 32px; }
.menu-item-name { font-weight: 600; margin-bottom: 2px; font-size: 14px; }
.menu-item-desc { font-size: 12px; color: var(--text-secondary); }
.menu-item-wine { font-size: 11px; color: var(--accent-secondary); margin-top: 4px; }
.results-cta { width: 100%; margin-top: 24px; }
.results-cta .btn { margin-bottom: 12px; }

.premium-lock { background: linear-gradient(135deg, rgba(255,107,107,0.1) 0%, rgba(168,85,247,0.1) 100%); border: 1px solid rgba(255,107,107,0.2); border-radius: var(--radius-lg); padding: 24px; text-align: center; margin: 20px 0; }
.premium-lock-icon { font-size: 40px; margin-bottom: 12px; }
.premium-lock-title { font-family: 'Playfair Display', serif; font-size: 18px; font-weight: 600; margin-bottom: 8px; }
.premium-lock-desc { font-size: 13px; color: var(--text-secondary); margin-bottom: 16px; line-height: 1.5; }

/* ===== MENU SELECT ===== */
.menu-section { width: 100%; margin-bottom: 24px; }
.menu-section-title { font-family: 'Playfair Display', serif; font-size: 18px; font-weight: 600; margin-bottom: 12px; }
.menu-options { display: flex; flex-direction: column; gap: 10px; }
.menu-option { padding: 14px 16px; border-radius: var(--radius-md); background: var(--bg-card); border: 2px solid var(--glass-border); cursor: pointer; transition: all 0.3s; display: flex; align-items: center; justify-content: space-between; }
.menu-option:active { transform: scale(0.98); }
.menu-option.selected { border-color: var(--accent-primary); background: rgba(255,107,107,0.08); }
.menu-option-left { display: flex; align-items: center; gap: 12px; }
.menu-option-emoji { font-size: 24px; }
.menu-option-name { font-weight: 600; font-size: 14px; }
.menu-option-desc { font-size: 11px; color: var(--text-secondary); }
.menu-option-check { width: 20px; height: 20px; border-radius: 50%; border: 2px solid var(--glass-border); display: flex; align-items: center; justify-content: center; }
.menu-option.selected .menu-option-check { background: var(--accent-primary); border-color: var(--accent-primary); }
.menu-option.selected .menu-option-check::after { content: '✓'; font-size: 12px; color: white; }

/* ===== SHOPPING ===== */
.shopping-section { width: 100%; margin-bottom: 20px; }
.shopping-section-header { display: flex; align-items: center; gap: 10px; padding: 12px 0; border-bottom: 1px solid var(--glass-border); margin-bottom: 8px; }
.shopping-section-icon { font-size: 20px; }
.shopping-section-title { font-weight: 600; font-size: 14px; color: var(--accent-primary); }
.shopping-item { display: flex; align-items: center; gap: 12px; padding: 10px 0; cursor: pointer; }
.shopping-checkbox { width: 22px; height: 22px; border-radius: 6px; border: 2px solid var(--glass-border); transition: all 0.3s; flex-shrink: 0; display: flex; align-items: center; justify-content: center; }
.shopping-checkbox.checked { background: var(--accent-primary); border-color: var(--accent-primary); }
.shopping-checkbox::after { content: '✓'; font-size: 12px; color: white; opacity: 0; }
.shopping-checkbox.checked::after { opacity: 1; }
.shopping-item.checked .shopping-item-name { text-decoration: line-through; color: var(--text-muted); }
.shopping-item-name { flex: 1; font-size: 14px; }
.shopping-item-qty { font-size: 12px; color: var(--text-secondary); }

/* ===== AUTH ===== */
.auth-page .page-content { justify-content: center; }
.auth-header { text-align: center; margin-bottom: 30px; }
.auth-logo { font-family: 'Playfair Display', serif; font-size: 36px; font-weight: 700; background: var(--gradient-primary); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 16px; }
.auth-title { font-family: 'Playfair Display', serif; font-size: 24px; font-weight: 600; margin-bottom: 8px; }
.auth-subtitle { font-size: 14px; color: var(--text-secondary); }
.auth-form { width: 100%; max-width: 320px; }
.input-group { width: 100%; margin-bottom: 16px; }
.input-label { display: block; font-size: 12px; font-weight: 600; color: var(--text-secondary); text-transform: uppercase; letter-spacing: 1px; margin-bottom: 8px; }
.input-field { width: 100%; padding: 16px 18px; background: var(--bg-card); border: 2px solid var(--glass-border); border-radius: var(--radius-md); color: var(--text-primary); font-family: 'Inter', sans-serif; font-size: 16px; }
.input-field:focus { outline: none; border-color: var(--accent-primary); }
.input-field::placeholder { color: var(--text-muted); }
.auth-divider { display: flex; align-items: center; margin: 24px 0; color: var(--text-muted); font-size: 12px; }
.auth-divider::before, .auth-divider::after { content: ''; flex: 1; height: 1px; background: var(--glass-border); }
.auth-divider span { padding: 0 16px; }
.social-buttons { display: flex; gap: 12px; }
.btn-social { flex: 1; padding: 14px; background: var(--bg-card); border: 1px solid var(--glass-border); border-radius: var(--radius-md); color: var(--text-primary); font-size: 18px; cursor: pointer; }

/* ===== ANIMATIONS ===== */
.animate-in { animation: fadeSlideIn 0.6s var(--ease-smooth) both; }
@keyframes fadeSlideIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
.delay-1 { animation-delay: 0.1s; }
.delay-2 { animation-delay: 0.2s; }
